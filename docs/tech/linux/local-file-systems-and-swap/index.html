<!doctype html>
<html
  lang="en"
  dir="ltr"
  class="scroll-smooth"
  data-default-appearance="light"
  data-auto-appearance="false"><head>
  <meta charset="utf-8">
  
    <meta http-equiv="content-language" content="en">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="theme-color">

  
  
    <title>Local File Systems and Swap &middot; </title>
    <meta name="title" content="Local File Systems and Swap &middot; ">
  

  
  
    <meta name="description" content="Local file systems and swap">
  
  
  
  
  <link rel="canonical" href="https://davidwrites.xyz/tech/linux/local-file-systems-and-swap/">
  

  
  
  

  
  <meta property="og:url" content="https://davidwrites.xyz/tech/linux/local-file-systems-and-swap/">
  <meta property="og:title" content="Local File Systems and Swap">
  <meta property="og:description" content="Local file systems and swap">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="tech">

  
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Local File Systems and Swap">
  <meta name="twitter:description" content="Local file systems and swap">

  
  
  
  
    
      
    
  
    
      
    
  
    
      
    
  
  
    
  

  
  
  
  
  
  

  

  
  
  
  
  
  
  
    
  
  
    
  
  
  <link
    type="text/css"
    rel="stylesheet"
    href="/css/main.bundle.min.55454138fbaa36c0232d68135cd9933115627c813e846361f82ebc8dc6d6a4557af89124e41aa465c677592556acb50643a1e8e9a77adfdd6daf990fd094a009.css"
    integrity="sha512-VUVBOPuqNsAjLWgTXNmTMRVifIE&#43;hGNh&#43;C68jcbWpFV6&#43;JEk5BqkZcZ3WSVWrLUGQ6Ho6ad6391tr5kP0JSgCQ==">

  
  
  <script
    type="text/javascript"
    src="/js/appearance.min.b3e04755916f0df261b5d61a68854cdfe374f4f0788bd95c7dd4a8493829036d999f7931d810683ea8adb094c97c2f5616e95748b0b9e3da4a19070d27b2c99b.js"
    integrity="sha512-s&#43;BHVZFvDfJhtdYaaIVM3&#43;N09PB4i9lcfdSoSTgpA22Zn3kx2BBoPqitsJTJfC9WFulXSLC549pKGQcNJ7LJmw=="></script>
  
  
  
  
  
  
    
    <script src="/lib/zoom/zoom.min.umd.a527109b68c082a70f3697716dd72a9d5aa8b545cf800cecbbc7399f2ca6f6e0ce3e431f2062b48bbfa47c9ea42822714060bef309be073f49b9c0e30d318d7b.js" integrity="sha512-pScQm2jAgqcPNpdxbdcqnVqotUXPgAzsu8c5nyym9uDOPkMfIGK0i7&#43;kfJ6kKCJxQGC&#43;8wm&#43;Bz9JucDjDTGNew=="></script>
  

  
  
  
    
  
  
    
  
  
    
  
  
  
  
  
  
    
    <script
      defer
      type="text/javascript"
      id="script-bundle"
      src="/js/main.bundle.min.9cc802d09f28c6af56ceee7bc6e320a39251fdae98243f2a9942f221ac57a9f49c51609699a91794a7b2580ee1deaa8e4d794a68ffa94aa317c66e893ce51e02.js"
      integrity="sha512-nMgC0J8oxq9Wzu57xuMgo5JR/a6YJD8qmULyIaxXqfScUWCWmakXlKeyWA7h3qqOTXlKaP&#43;pSqMXxm6JPOUeAg=="
      data-copy="Copy"
      data-copied="Copied"></script>
  

  
  

<script src="/lib/jquery/jquery.slim.min.b0dca576e87d7eaa5850ae4e61759c065786cdb6489d68fcc82240539eebd5da522bdb4fda085ffd245808c8fe2acb2516408eb774ef26b5f6015fc6737c0ea8.js" integrity="sha512-sNylduh9fqpYUK5OYXWcBleGzbZInWj8yCJAU57r1dpSK9tP2ghf/SRYCMj&#43;KsslFkCOt3TvJrX2AV/Gc3wOqA=="></script>


























  

  

  

  

  





  
  
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
  

  
  <script type="application/ld+json">
  [{
    "@context": "https://schema.org",
    "@type": "Article",
    "articleSection": "Teches",
    "name": "Local File Systems and Swap",
    "headline": "Local File Systems and Swap",
    "description": "Local file systems and swap",
    "abstract": "\u003ch2 class=\u0022relative group\u0022\u003eFile Systems and File System Types\n    \u003cdiv id=\u0022file-systems-and-file-system-types\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none\u0022\u003e\n        \u003ca class=\u0022text-primary-300 dark:text-neutral-700 !no-underline\u0022 href=\u0022#file-systems-and-file-system-types\u0022 aria-label=\u0022Anchor\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e\n    \n\u003c\/h2\u003e\n\u003cp\u003e\u003cstrong\u003eFile systems\u003c\/strong\u003e\u003c\/p\u003e\n\u003cul\u003e\n\u003cli\u003eCan be optimized, resized, mounted, and unmounted independently.\u003c\/li\u003e\n\u003cli\u003eMust be connected to the directory hierarchy in order to be accessed by users and applications.\u003c\/li\u003e\n\u003cli\u003eMounting may be accomplished automatically at system boot or manually as required.\u003c\/li\u003e\n\u003cli\u003eCan be mounted or unmounted using their unique identifiers, labels, or device files.\u003c\/li\u003e\n\u003cli\u003eEach file system is created in a discrete partition, VDO volume, or logical volume.\u003c\/li\u003e\n\u003cli\u003eA typical production RHEL system usually has numerous file systems.\u003c\/li\u003e\n\u003cli\u003eDuring OS installation, only two file systems\u0026mdash; \/ and \/boot \u0026mdash;are created in the default disk layout, but you can design a custom disk layout and construct separate containers to store dissimilar information.\u003c\/li\u003e\n\u003cli\u003eTypical additional file systems that may be created during an installation are \/home, \/opt, \/tmp, \/usr, and \/var.\u003c\/li\u003e\n\u003cli\u003e\/ and \/boot\u0026mdash;are required for installation and booting.\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003cp\u003eStoring disparate data in distinct file systems versus storing all data in a single file system offers the following advantages:\u003c\/p\u003e",
    "inLanguage": "en",
    "url" : "https://davidwrites.xyz/tech/linux/local-file-systems-and-swap/",
    "author" : {
      "@type": "Person",
      "name": ""
    },
    
    
    
    
    
    
    
    
    "mainEntityOfPage": "true",
    "wordCount": "9080"
  }]
  </script>



  
  
    


  

  <script
    data-id="umami-script"
    async
    src="https://analytics.umami.is/script.js"
    data-website-id="60fe8af1-376f-4be3-8f62-d4f24d00a756"></script>




  <script type="text/javascript">
    document.querySelector('script[data-id="umami-script"]').addEventListener("load", function () {
      const type = document.head.querySelector('meta[property = "og:type"]').getAttribute("content");
      let title = document.head.querySelector('meta[property = "og:title"]').getAttribute("content");
      let url = document.head.querySelector('meta[property = "og:url"]').getAttribute("content");
      umami.track(type + ":" + title, { url: url });
    });
  </script>





  

  
  

  
  

  
  
    
      <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
      <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
      <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
      <script>

    const firebaseConfig = {
      apiKey: "AIzaSyApsKLCbGb5fkkrzxABOtl3-OUuBcRPVsc",
      authDomain: "davidwrites-89dd7.firebaseapp.com",
      projectId: "davidwrites-89dd7",
      storageBucket: "davidwrites-89dd7.firebasestorage.app",
      messagingSenderId: "433139099634",
      appId: "1:433139099634:web:c14275555bd7171e6c6d6b",
      measurementId: "G-XX5507B82W"
    };

        var app = firebase.initializeApp(firebaseConfig);
        var db = firebase.firestore();
        var auth = firebase.auth();

      </script>
    
  

  
  
</head>







  
    
  







  
    
  






  
  
  <body class="flex flex-col h-screen m-auto leading-7 max-w-7xl px-6 sm:px-14 md:px-24 lg:px-32 text-lg bg-neutral text-neutral-900 dark:bg-neutral-800 dark:text-neutral scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600">
    <div id="the-top" class="absolute flex self-center">
      <a
        class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 focus:translate-y-0 dark:bg-neutral-600"
        href="#main-content">
        <span class="font-bold text-primary-600 pe-2 dark:text-primary-400">&darr;</span>
        Skip to main content
      </a>
    </div>
    
    
      













<div
  class="main-menu flex items-center justify-between py-6 md:justify-start gap-x-3 pt-[2px] pr-2 md:pr-4 pb-[3px] pl-0">
  
  
    
    
      <div>
        <a href="/" class="flex">
          <span class="sr-only"></span>
          
            <img
              src="/img/logo.png"
              width="200"
              height="37"
              class="logo max-h-[5rem] max-w-[5rem] object-scale-down object-left nozoom"
              alt="">
          
        </a>
      </div>
    

  <div class="flex flex-1 items-center justify-between">
    <nav class="flex space-x-3">
      
    </nav>
    
  <nav class="hidden md:flex items-center gap-x-5 md:ml-12 h-12">
    
      
        
  <a
  href="/notes/"
  
  class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
  aria-label="Notes"
  title="Book Notes &amp; Reviews">
  
  
    <p class="text-base font-medium">
      Notes
    </p>
  
</a>



      
        
  <a
  href="/articles/"
  
  class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
  aria-label="Articles"
  title="Articles">
  
  
    <p class="text-base font-medium">
      Articles
    </p>
  
</a>



      
        
  <a
  href="/now/"
  
  class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
  aria-label="Now"
  title="Now">
  
  
    <p class="text-base font-medium">
      Now
    </p>
  
</a>



      
        
  <a
  href="https://github.com/davidwritesxyz"
  target="_blank"
  class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
  aria-label="github"
  title="">
  
    <span >
      <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
</span>
    </span>
  
  
</a>



      
        
  <a
  href=""
  
  class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
  
  title="">
  
  
</a>



      
    

    

    

    
      <button
        id="search-button"
        aria-label="Search"
        class="text-base hover:text-primary-600 dark:hover:text-primary-400"
        title="Search (/)">
        <span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span>
      </button>
    

    
      <div class=" flex items-center">
        <button
          id="appearance-switcher"
          aria-label="Dark mode switcher"
          type="button"
          class="text-base hover:text-primary-600 dark:hover:text-primary-400">
          <div class="flex items-center justify-center dark:hidden">
            <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M32 256c0-123.8 100.3-224 223.8-224c11.36 0 29.7 1.668 40.9 3.746c9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3c9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480C132.1 480 32 379.6 32 256z"/></svg>
</span>
          </div>
          <div class="items-center justify-center hidden dark:flex">
            <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02 0-95.1 42.98-95.1 95.1S202.1 351.1 256 351.1s95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347L446.1 255.1l63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7l-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89L164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6L12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256l-63.15 91.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7l19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109l109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69 0-127.1-57.31-127.1-127.1c0-70.69 57.31-127.1 127.1-127.1s127.1 57.3 127.1 127.1C383.1 326.7 326.7 383.1 256 383.1z"/></svg>
</span>
          </div>
        </button>
      </div>
    
  </nav>

    
  <div class="flex md:hidden items-center gap-x-5 md:ml-12 h-12">
    <span></span>

    

    

    
      <button
        id="search-button-mobile"
        aria-label="Search"
        class="text-base hover:text-primary-600 dark:hover:text-primary-400"
        title="Search (/)">
        <span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span>
      </button>
    

    
      <button
        id="appearance-switcher-mobile"
        aria-label="Dark mode switcher"
        type="button"
        class="text-base hover:text-primary-600 dark:hover:text-primary-400 me-1">
        <div class="flex items-center justify-center dark:hidden">
          <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M32 256c0-123.8 100.3-224 223.8-224c11.36 0 29.7 1.668 40.9 3.746c9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3c9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480C132.1 480 32 379.6 32 256z"/></svg>
</span>
        </div>
        <div class="items-center justify-center hidden dark:flex">
          <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02 0-95.1 42.98-95.1 95.1S202.1 351.1 256 351.1s95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347L446.1 255.1l63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7l-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89L164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6L12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256l-63.15 91.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7l19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109l109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69 0-127.1-57.31-127.1-127.1c0-70.69 57.31-127.1 127.1-127.1s127.1 57.3 127.1 127.1C383.1 326.7 326.7 383.1 256 383.1z"/></svg>
</span>
        </div>
      </button>
    
  </div>

  </div>
  
  <div class="-my-2 md:hidden">
    <div id="menu-button" class="block">
      
        <div class="cursor-pointer hover:text-primary-600 dark:hover:text-primary-400">
          <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M0 96C0 78.33 14.33 64 32 64H416C433.7 64 448 78.33 448 96C448 113.7 433.7 128 416 128H32C14.33 128 0 113.7 0 96zM0 256C0 238.3 14.33 224 32 224H416C433.7 224 448 238.3 448 256C448 273.7 433.7 288 416 288H32C14.33 288 0 273.7 0 256zM416 448H32C14.33 448 0 433.7 0 416C0 398.3 14.33 384 32 384H416C433.7 384 448 398.3 448 416C448 433.7 433.7 448 416 448z"/></svg>
</span>
        </div>
        <div
          id="menu-wrapper"
          class="fixed inset-0 z-30 invisible w-screen h-screen m-0 overflow-auto transition-opacity opacity-0 cursor-default bg-neutral-100/50 backdrop-blur-sm dark:bg-neutral-900/50 pt-[5px]">
          <ul
            class="flex space-y-2 mt-3 flex-col items-end w-full px-6 py-6 mx-auto overflow-visible list-none text-end max-w-7xl">
            <li id="menu-close-button">
              <span
                class="cursor-pointer inline-block align-text-bottom hover:text-primary-600 dark:hover:text-primary-400">
                <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>
</span>
              </span>
            </li>

            
              
  <li class="mt-1">
  <a
    href="/notes/"
    
    class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
    aria-label="Notes"
    title="Book Notes &amp; Reviews">
    
    
      <p class="text-bg font-bg">
        Notes
      </p>
    
  </a>
</li>



            
              
  <li class="mt-1">
  <a
    href="/articles/"
    
    class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
    aria-label="Articles"
    title="Articles">
    
    
      <p class="text-bg font-bg">
        Articles
      </p>
    
  </a>
</li>



            
              
  <li class="mt-1">
  <a
    href="/now/"
    
    class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
    aria-label="Now"
    title="Now">
    
    
      <p class="text-bg font-bg">
        Now
      </p>
    
  </a>
</li>



            
              
  <li class="mt-1">
  <a
    href="https://github.com/davidwritesxyz"
    
      target="_blank"
    
    class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
    aria-label="github"
    title="">
    
      <div >
        <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
</span>
      </div>
    
    
  </a>
</li>



            
              
  <li class="mt-1">
  <a
    href=""
    
    class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
    
    title="">
    
    
  </a>
</li>



            

          </ul>
          
        </div>
      
    </div>
  </div>

</div>




  <script>
    (function () {
      var $mainmenu = $(".main-menu");
      var path = window.location.pathname;
      $mainmenu.find('a[href="' + path + '"]').each(function (i, e) {
        $(e).children("p").addClass("active");
      });
    })();
  </script>


    
    <div class="relative flex flex-col grow">
      <main id="main-content" class="grow">
        
  
  <article>
    
    

    
    <header id="single_header" class="mt-5 max-w-prose">
      
      <h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">
        Local File Systems and Swap
      </h1>
      <div class="mt-1 mb-6 text-base text-neutral-500 dark:text-neutral-400 print:hidden">
        





  
  



  

  
  
  
    
  

  

  
    
  

  

  

  

  
    
  

  
    
  

  
    
  

  

  


  <div class="flex flex-row flex-wrap items-center">
    
    
      <time datetime="0001-01-01T00:00:00&#43;00:00">1 January 0001</time><span class="px-2 text-primary-500">&middot;</span><span>
  
  
    
    
      
      
        
        
      
      
    
  
  <span
    id="views_tech/linux/Local File Systems and Swap.md"
    class="animate-pulse inline-block text-transparent max-h-3 rounded-full -mt-[2px] align-middle bg-neutral-300 dark:bg-neutral-400"
    title="views"
    >loading</span
  >
  <span class="inline-block align-text-bottom"><span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">
<path fill="currentColor" d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM432 256c0 79.5-64.5 144-144 144s-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144zM288 192c0 35.3-28.7 64-64 64c-11.5 0-22.3-3-31.6-8.4c-.2 2.8-.4 5.5-.4 8.4c0 53 43 96 96 96s96-43 96-96s-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6z"/></svg></span></span>
</span>
<span class="px-2 text-primary-500">&middot;</span><span>
  
  
    
    
      
      
        
        
      
      
    
  
  <span
    id="likes_tech/linux/Local File Systems and Swap.md"
    class="animate-pulse inline-block text-transparent max-h-3 rounded-full -mt-[2px] align-middle bg-neutral-300 dark:bg-neutral-400"
    title="likes"
    >loading</span
  >
  <span class="inline-block align-text-bottom"><span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
<path fill="currentColor" d="M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"/></svg></span></span>
</span>
<span class="px-2 text-primary-500">&middot;</span><span>
  <button
    id="button_likes"
    class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
    <span id="button_likes_heart" class="inline-block align-text-bottom hidden"
      ><span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
<path fill="currentColor" d="M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"/></svg></span>
    </span>
    <span id="button_likes_emtpty_heart" class="inline-block align-text-bottom"
      ><span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
<path fill="currentColor" d="M244 84L255.1 96L267.1 84.02C300.6 51.37 347 36.51 392.6 44.1C461.5 55.58 512 115.2 512 185.1V190.9C512 232.4 494.8 272.1 464.4 300.4L283.7 469.1C276.2 476.1 266.3 480 256 480C245.7 480 235.8 476.1 228.3 469.1L47.59 300.4C17.23 272.1 0 232.4 0 190.9V185.1C0 115.2 50.52 55.58 119.4 44.1C164.1 36.51 211.4 51.37 244 84C243.1 84 244 84.01 244 84L244 84zM255.1 163.9L210.1 117.1C188.4 96.28 157.6 86.4 127.3 91.44C81.55 99.07 48 138.7 48 185.1V190.9C48 219.1 59.71 246.1 80.34 265.3L256 429.3L431.7 265.3C452.3 246.1 464 219.1 464 190.9V185.1C464 138.7 430.4 99.07 384.7 91.44C354.4 86.4 323.6 96.28 301.9 117.1L255.1 163.9z"/></svg></span></span
    >
    <span id="button_likes_text">&nbsp;Like</span>
  </button>
</span>
    

    
    
  </div>

  

  
  

  
  



      </div>
      
        
  
  
  
  
  
  

  

  
    
    
<div class="flex author">
  
  <div class="place-self-center">
    
    
    <div class="text-2xl sm:text-lg">
</div>
  </div>
</div>

  

  

  
    <div class="mb-5"></div>
  

      
    </header>

    
    <section class="flex flex-col max-w-full mt-0 prose dark:prose-invert lg:flex-row">
      
      
      
      
      
        <div class="order-first lg:ml-auto px-0 lg:order-last lg:ps-8 lg:max-w-2xs">
          <div class="toc ps-5 print:hidden lg:sticky lg:top-10">
            
              <details
  open
  id="TOCView"
  class="toc-right mt-0 overflow-y-auto overscroll-contain scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600 rounded-lg -ms-5 ps-5 pe-2 hidden lg:block">
  <summary
    class="block py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 -ms-5 ps-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">
    Table of Contents
  </summary>
  <div
    class="min-w-[220px] py-2 border-dotted border-s-1 -ms-5 ps-5 dark:border-neutral-600">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#file-systems-and-file-system-types">File Systems and File System Types</a>
      <ul>
        <li><a href="#extended-file-systems">Extended File Systems</a></li>
        <li><a href="#xfs-file-system">XFS File System</a></li>
        <li><a href="#vfat-file-system">VFAT File System</a></li>
        <li><a href="#iso9660-file-system">ISO9660 File System</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li>
      <ul>
        <li>
          <ul>
            <li><a href="#file-system-administration-commands">File System Administration Commands</a></li>
            <li><a href="#extended-file-system-management-commands">Extended File System Management Commands</a></li>
            <li><a href="#xfs-management-commands">XFS Management Commands</a></li>
            <li><a href="#general-file-system-commands">General File System Commands</a></li>
          </ul>
        </li>
        <li><a href="#mounting-and-unmounting-file-systems">Mounting and Unmounting File Systems</a>
          <ul>
            <li><a href="#mount-command">Mount command</a></li>
            <li><a href="#umount-command">umount Command</a></li>
          </ul>
        </li>
        <li><a href="#determining-the-uuid-of-a-file-system">Determining the UUID of a File System</a></li>
        <li><a href="#labeling-a-file-system">Labeling a File System</a></li>
        <li><a href="#automatically-mounting-a-file-system-at-reboots">Automatically Mounting a File System at Reboots</a>
          <ul>
            <li><a href="#etcfstab"><em>/etc/fstab</em></a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#lab-create-and-mount-ext4-vfat-and-xfs-file-systems-in-partitions-server2">Lab: Create and Mount Ext4, VFAT, and XFS File Systems in Partitions (server2)</a></li>
    <li><a href="#lab-create-and-mount-ext4-and-xfs-file-systems-in-lvm-logical-volumes-server2">Lab: Create and Mount Ext4 and XFS File Systems in LVM Logical Volumes (server2)</a>
      <ul>
        <li><a href="#lab-resize-ext4-and-xfs-file-systems-in-lvm-logical-volumes-server-2">Lab: Resize Ext4 and XFS File Systems in LVM Logical Volumes (server 2)</a></li>
      </ul>
    </li>
    <li><a href="#lab-create-and-mount-xfs-file-system-in-lvm-vdo-volume">Lab: Create and Mount XFS File System in LVM VDO Volume</a></li>
    <li><a href="#monitoring-file-system-usage">Monitoring File System Usage</a>
      <ul>
        <li><a href="#df-disk-free-command">df (disk free) command</a></li>
        <li><a href="#calculating-disk-usage">Calculating Disk Usage</a></li>
        <li><a href="#du-command">du command</a></li>
      </ul>
    </li>
    <li><a href="#swap-and-its-management">Swap and its Management</a>
      <ul>
        <li><a href="#determining-current-swap-usage">Determining Current Swap Usage</a></li>
        <li><a href="#free-command"><code>free</code> command</a></li>
        <li><a href="#prioritizing-swap-spaces">Prioritizing Swap Spaces</a></li>
        <li><a href="#swap-administration-commands">Swap Administration Commands</a></li>
        <li><a href="#lab-create-and-activate-swap-in-partition-and-logical-volume-server-2">Lab: Create and Activate Swap in Partition and Logical Volume (server 2)</a></li>
      </ul>
    </li>
    <li><a href="#local-filesystems-and-swap-diy-labs">Local Filesystems and Swap DIY Labs</a>
      <ul>
        <li><a href="#lab-create-vfat-ext4-and-xfs-file-systems-in-partitions-and-mount-persistently">Lab: Create VFAT, Ext4, and XFS File Systems in Partitions and Mount Persistently</a></li>
        <li><a href="#lab-create-xfs-file-system-in-lvm-vdo-volume-and-mount-persistently">Lab: Create XFS File System in LVM VDO Volume and Mount Persistently</a></li>
        <li><a href="#lab-create-ext4-and-xfs-file-systems-in-lvm-volumes-and-mount-persistently">Lab: Create Ext4 and XFS File Systems in LVM Volumes and Mount Persistently</a></li>
        <li><a href="#lab-14-4-extend-ext4-and-xfs-file-systems-in-lvm-volumes">Lab 14-4: Extend Ext4 and XFS File Systems in LVM Volumes</a></li>
        <li><a href="#lab-14-5-create-swap-in-partition-and-lvm-volume-and-activate-persistently">Lab 14-5: Create Swap in Partition and LVM Volume and Activate Persistently</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</details>
<details class="toc-inside mt-0 overflow-hidden rounded-lg -ms-5 ps-5 lg:hidden">
  <summary
    class="py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 -ms-5 ps-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">
    Table of Contents
  </summary>
  <div
    class="py-2 border-dotted border-neutral-300 border-s-1 -ms-5 ps-5 dark:border-neutral-600">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#file-systems-and-file-system-types">File Systems and File System Types</a>
      <ul>
        <li><a href="#extended-file-systems">Extended File Systems</a></li>
        <li><a href="#xfs-file-system">XFS File System</a></li>
        <li><a href="#vfat-file-system">VFAT File System</a></li>
        <li><a href="#iso9660-file-system">ISO9660 File System</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li>
      <ul>
        <li>
          <ul>
            <li><a href="#file-system-administration-commands">File System Administration Commands</a></li>
            <li><a href="#extended-file-system-management-commands">Extended File System Management Commands</a></li>
            <li><a href="#xfs-management-commands">XFS Management Commands</a></li>
            <li><a href="#general-file-system-commands">General File System Commands</a></li>
          </ul>
        </li>
        <li><a href="#mounting-and-unmounting-file-systems">Mounting and Unmounting File Systems</a>
          <ul>
            <li><a href="#mount-command">Mount command</a></li>
            <li><a href="#umount-command">umount Command</a></li>
          </ul>
        </li>
        <li><a href="#determining-the-uuid-of-a-file-system">Determining the UUID of a File System</a></li>
        <li><a href="#labeling-a-file-system">Labeling a File System</a></li>
        <li><a href="#automatically-mounting-a-file-system-at-reboots">Automatically Mounting a File System at Reboots</a>
          <ul>
            <li><a href="#etcfstab"><em>/etc/fstab</em></a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#lab-create-and-mount-ext4-vfat-and-xfs-file-systems-in-partitions-server2">Lab: Create and Mount Ext4, VFAT, and XFS File Systems in Partitions (server2)</a></li>
    <li><a href="#lab-create-and-mount-ext4-and-xfs-file-systems-in-lvm-logical-volumes-server2">Lab: Create and Mount Ext4 and XFS File Systems in LVM Logical Volumes (server2)</a>
      <ul>
        <li><a href="#lab-resize-ext4-and-xfs-file-systems-in-lvm-logical-volumes-server-2">Lab: Resize Ext4 and XFS File Systems in LVM Logical Volumes (server 2)</a></li>
      </ul>
    </li>
    <li><a href="#lab-create-and-mount-xfs-file-system-in-lvm-vdo-volume">Lab: Create and Mount XFS File System in LVM VDO Volume</a></li>
    <li><a href="#monitoring-file-system-usage">Monitoring File System Usage</a>
      <ul>
        <li><a href="#df-disk-free-command">df (disk free) command</a></li>
        <li><a href="#calculating-disk-usage">Calculating Disk Usage</a></li>
        <li><a href="#du-command">du command</a></li>
      </ul>
    </li>
    <li><a href="#swap-and-its-management">Swap and its Management</a>
      <ul>
        <li><a href="#determining-current-swap-usage">Determining Current Swap Usage</a></li>
        <li><a href="#free-command"><code>free</code> command</a></li>
        <li><a href="#prioritizing-swap-spaces">Prioritizing Swap Spaces</a></li>
        <li><a href="#swap-administration-commands">Swap Administration Commands</a></li>
        <li><a href="#lab-create-and-activate-swap-in-partition-and-logical-volume-server-2">Lab: Create and Activate Swap in Partition and Logical Volume (server 2)</a></li>
      </ul>
    </li>
    <li><a href="#local-filesystems-and-swap-diy-labs">Local Filesystems and Swap DIY Labs</a>
      <ul>
        <li><a href="#lab-create-vfat-ext4-and-xfs-file-systems-in-partitions-and-mount-persistently">Lab: Create VFAT, Ext4, and XFS File Systems in Partitions and Mount Persistently</a></li>
        <li><a href="#lab-create-xfs-file-system-in-lvm-vdo-volume-and-mount-persistently">Lab: Create XFS File System in LVM VDO Volume and Mount Persistently</a></li>
        <li><a href="#lab-create-ext4-and-xfs-file-systems-in-lvm-volumes-and-mount-persistently">Lab: Create Ext4 and XFS File Systems in LVM Volumes and Mount Persistently</a></li>
        <li><a href="#lab-14-4-extend-ext4-and-xfs-file-systems-in-lvm-volumes">Lab 14-4: Extend Ext4 and XFS File Systems in LVM Volumes</a></li>
        <li><a href="#lab-14-5-create-swap-in-partition-and-lvm-volume-and-activate-persistently">Lab 14-5: Create Swap in Partition and LVM Volume and Activate Persistently</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</details>


<script>
  (function () {
    'use strict'

    const SCROLL_OFFSET_RATIO = 0.33
    const TOC_SELECTOR = '#TableOfContents'
    const ANCHOR_SELECTOR = '.anchor'
    const TOC_LINK_SELECTOR = 'a[href^="#"]'
    const NESTED_LIST_SELECTOR = 'li ul'
    const ACTIVE_CLASS = 'active'
    let isJumpingToAnchor = false

    function getActiveAnchorId(anchors, offsetRatio) {
      const threshold = window.scrollY + window.innerHeight * offsetRatio
      const tocLinks = [...document.querySelectorAll('#TableOfContents a[href^="#"]')]
      const tocIds = new Set(tocLinks.map(link => link.getAttribute('href').substring(1)))

      if (isJumpingToAnchor) {
        for (let i = 0; i < anchors.length; i++) {
          const anchor = anchors[i]
          if (!tocIds.has(anchor.id)) continue
          const top = anchor.getBoundingClientRect().top + window.scrollY
          if (Math.abs(window.scrollY - top) < 100) {
            return anchor.id
          }
        }
      }

      for (let i = anchors.length - 1; i >= 0; i--) {
        const top = anchors[i].getBoundingClientRect().top + window.scrollY
        if (top <= threshold && tocIds.has(anchors[i].id)) {
          return anchors[i].id
        }
      }
      return anchors.find(anchor => tocIds.has(anchor.id))?.id || ''
    }

    function updateTOC({ toc, anchors, links, scrollOffset, collapseInactive }) {
      const activeId = getActiveAnchorId(anchors, scrollOffset)
      if (!activeId) return

      links.forEach(link => {
        const isActive = link.getAttribute('href') === `#${activeId}`
        link.classList.toggle(ACTIVE_CLASS, isActive)

        if (collapseInactive) {
          const ul = link.closest('li')?.querySelector('ul')
          if (ul) ul.style.display = isActive ? '' : 'none'
        }
      })

      if (collapseInactive) {
        const activeLink = toc.querySelector(`a[href="#${CSS.escape(activeId)}"]`)
        let el = activeLink
        while (el && el !== toc) {
          if (el.tagName === 'UL') el.style.display = ''
          if (el.tagName === 'LI') el.querySelector('ul')?.style.setProperty('display', '')
          el = el.parentElement
        }
      }
    }

    function initTOC() {
      const toc = document.querySelector(TOC_SELECTOR)
      if (!toc) return

      const collapseInactive = true
      const anchors = [...document.querySelectorAll(ANCHOR_SELECTOR)]
      const links = [...toc.querySelectorAll(TOC_LINK_SELECTOR)]

      if (collapseInactive) {
        toc.querySelectorAll(NESTED_LIST_SELECTOR).forEach(ul => ul.style.display = 'none')
      }

      links.forEach(link => {
        link.addEventListener('click', () => {
          isJumpingToAnchor = true
        })
      })

      const config = {
        toc,
        anchors,
        links,
        scrollOffset: SCROLL_OFFSET_RATIO,
        collapseInactive
      }

      window.addEventListener('scroll', () => updateTOC(config), { passive: true })
      window.addEventListener('hashchange', () => updateTOC(config), { passive: true })

      updateTOC(config)
    }

    document.readyState === 'loading'
      ? document.addEventListener('DOMContentLoaded', initTOC)
      : initTOC()
  })()
</script>


            
          </div>
        </div>
      


      <div class="min-w-0 min-h-0 max-w-fit">
        

        <div class="article-content max-w-prose mb-20">
          
<h2 class="relative group">File Systems and File System Types
    <div id="file-systems-and-file-system-types" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#file-systems-and-file-system-types" aria-label="Anchor">#</a>
    </span>
    
</h2>
<p><strong>File systems</strong></p>
<ul>
<li>Can be optimized, resized, mounted, and unmounted independently.</li>
<li>Must be connected to the directory hierarchy in order to be accessed by users and applications.</li>
<li>Mounting may be accomplished automatically at system boot or manually as required.</li>
<li>Can be mounted or unmounted using their unique identifiers, labels, or device files.</li>
<li>Each file system is created in a discrete partition, VDO volume, or logical volume.</li>
<li>A typical production RHEL system usually has numerous file systems.</li>
<li>During OS installation, only two file systems&mdash; / and /boot &mdash;are created in the default disk layout, but you can design a custom disk layout and construct separate containers to store dissimilar information.</li>
<li>Typical additional file systems that may be created during an installation are /home, /opt, /tmp, /usr, and /var.</li>
<li>/ and /boot&mdash;are required for installation and booting.</li>
</ul>
<p>Storing disparate data in distinct file systems versus storing all data in a single file system offers the following advantages:</p>
<ul>
<li>Make any file system accessible (mount) or inaccessible (unmount) to users independent of other file systems. This hides or reveals information contained in that file system.</li>
<li>Perform file system repair activities on individual file systems</li>
<li>Keep dissimilar data in separate file systems</li>
<li>Optimize or tune each file system independently</li>
<li>Grow or shrink a file system independent of other file systems</li>
</ul>
<p>3 types of file systems:</p>
<ul>
<li>disk-based, network-based, and memory-based.</li>
</ul>
<p><strong>Disk-based</strong></p>
<ul>
<li>Typically created on physical drives using SATA, USB, Fibre Channel, and other technologies.</li>
<li>store information persistently</li>
</ul>
<p><strong>Network-based</strong></p>
<ul>
<li>Essentially disk-based file systems shared over the network for remote access.</li>
<li>store information persistently</li>
</ul>
<p><strong>Memory-based</strong></p>
<ul>
<li>Virtual</li>
<li>Created at system startup and destroyed when the system goes down.</li>
<li>data saved in virtual file systems does not survive across system reboots.</li>
</ul>
<p>Ext3</p>
<ul>
<li>Disk based</li>
<li>The third generation of the extended filesystem.</li>
<li>Metadata journaling for faster recovery</li>
<li>Superior reliability</li>
<li>Creation of up to 32,000 subdirectories</li>
<li>supports larger file systems and bigger files than its predecessor</li>
</ul>
<p>Ext4</p>
<ul>
<li>Disk based</li>
<li>Successor to Ext3.
<ul>
<li>Supports all features of Ext3 in addition to:
<ul>
<li>Larger file system size</li>
<li>Bigger file size</li>
<li>Unlimited number of subdirectories</li>
<li>Metadata and quota journaling</li>
<li>Extended user attributes</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>XFS</p>
<ul>
<li>Disk based</li>
<li>Highly scalable and high-performing 64-bit file system.</li>
<li>Supports:
<ul>
<li>Metadata journaling for faster crash recovery</li>
<li>Online defragmentation, expansion, quota journaling, and extended user attributes</li>
</ul>
</li>
<li>default file system type in RHEL 9.</li>
</ul>
<p>VFAT</p>
<ul>
<li>Disk based</li>
<li>Used for post-Windows 95 file system formats on hard disks, USB drives, and floppy disks.</li>
</ul>
<p>ISO9660</p>
<ul>
<li>Disk based</li>
<li>Used for optical file systems such as CD and DVD.</li>
</ul>
<p>NFS - (Network File System.)</p>
<ul>
<li>Network based</li>
<li>Shared directory or file system for remote access by other Linux systems.</li>
</ul>
<p>AutoFS  (Auto File System)</p>
<ul>
<li>Network based</li>
<li>NFS file system set to mount and unmount automatically on remote client systems.</li>
</ul>

<h3 class="relative group">Extended File Systems
    <div id="extended-file-systems" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#extended-file-systems" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ul>
<li>First generation is obsolete and is no longer supported</li>
<li>Second, third, and fourth generations are currently available and supported.</li>
<li>Fourth generation is the latest in the series and is superior in features and enhancements to its predecessors.</li>
<li>Structure is built on a partition or logical volume at the time of file system creation.</li>
<li>Structure is divided into two sets:
<ul>
<li><strong>first set</strong> holds the file system&rsquo;s <strong>metadata</strong> and it is very tiny.
<ul>
<li>Superblock
<ul>
<li>keeps vital file system structural information:
<ul>
<li>type</li>
<li>size</li>
<li>status of the file system</li>
<li>number of data blocks it contains</li>
<li>automatically replicated and maintained at various known locations throughout the file system.</li>
<li>primary superblock
<ul>
<li>superblock at the beginning of the file system</li>
</ul>
</li>
<li>backup superblocks.
<ul>
<li>I used to supplant the corrupted or lost primary superblock to bring the file system back to its normal state.</li>
<li>Copy of the primary</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>Inode table
<ul>
<li>maintains a list of index node (inode) numbers.</li>
<li>Each file is assigned an <strong>inode number</strong> at the time of its creation, and the inode number
<ul>
<li>holds the file&rsquo;s attributes such as:
<ul>
<li>type</li>
<li>permissions</li>
<li>ownership</li>
<li>owning group</li>
<li>size</li>
<li>last access/modification time</li>
<li>holds and keeps track of the pointers to the actual data blocks where the file contents are located.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><strong>second set</strong> stores the actual data, and it occupies almost the entire partition or the logical volume (VDO and LVM) space.\</li>
</ul>
</li>
</ul>
<p><strong>journaling</strong></p>
<ul>
<li>
<p>Supported by Ext3 and Ext4</p>
</li>
<li>
<p>Recover swiftly after a system crash.</p>
</li>
<li>
<p>keep track of recent changes in their metadata in a journal (or log).</p>
</li>
<li>
<p>Each metadata update is written in its entirety to the journal after completion.</p>
</li>
<li>
<p>The system peruses the journal of each extended file system following the reboot after a crash to determine if there are any errors</p>
</li>
<li>
<p>Lets the system recover the file system rapidly using the latest metadata information stored in its journal.</p>
</li>
<li>
<p>Ext3 that supports file systems up to 16TiB and files up to 2TiB,</p>
</li>
<li>
<p>Ext4 supports very large file systems up to 1EiB (ExbiByte) and files up to 16TiB (TebiByte).</p>
<ul>
<li>Uses a series of contiguous physical blocks on the hard disk called extents, resulting in improved read and write performance with reduced fragmentation.</li>
<li>Supports extended user attributes, metadata and quota journaling, etc.</li>
</ul>
</li>
</ul>

<h3 class="relative group">XFS File System
    <div id="xfs-file-system" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#xfs-file-system" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ul>
<li>High-performing 64-bit extent-based journaling file system type.</li>
<li>Allows the creation of file systems and files up to 8EiB (ExbiByte).</li>
<li>Does not run file system checks at system boot</li>
<li>Relies on you to use the <code>xfs_repair</code> utility to manually fix any issues.</li>
<li>Sets the extended user attributes and certain mount options by default on new file systems.</li>
<li>Enables defragmentation on mounted and active file systems to keep as much data in contiguous blocks as possible for faster access.</li>
<li>Inability to shrink.</li>
<li>Uses journaling for metadata operations, guaranteeing the consistency of the file system against abnormal or forced unmounting.</li>
<li>Journal information is read and any pending metadata transactions are replayed when the XFS file system is remounted.</li>
<li>Speedy input/output performance.</li>
<li>Can be snapshot in a mounted, active state.</li>
</ul>

<h3 class="relative group">VFAT File System
    <div id="vfat-file-system" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#vfat-file-system" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ul>
<li>Extension to the legacy FAT file system (FAT16)</li>
<li>Supports 255 characters in filenames including spaces and periods</li>
<li>Does not differentiate between lowercase and uppercase letters.</li>
<li>Primarily used on removable media, such as floppy and USB flash drives, for exchanging data between Linux and Windows.</li>
</ul>

<h3 class="relative group">ISO9660 File System
    <div id="iso9660-file-system" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#iso9660-file-system" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ul>
<li>For removable optical disc media such as CD/DVD drives</li>
</ul>

<h1 class="relative group">File System Management
    <div id="file-system-management" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#file-system-management" aria-label="Anchor">#</a>
    </span>
    
</h1>

<h4 class="relative group">File System Administration Commands
    <div id="file-system-administration-commands" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#file-system-administration-commands" aria-label="Anchor">#</a>
    </span>
    
</h4>
<ul>
<li>Some are limited to their operations on the Extended, XFS, or VFAT file system type.</li>
<li>Others are general and applicable to all file system types.</li>
</ul>

<h4 class="relative group">Extended File System Management Commands
    <div id="extended-file-system-management-commands" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#extended-file-system-management-commands" aria-label="Anchor">#</a>
    </span>
    
</h4>
<p><code>e2label</code></p>
<ul>
<li>Modifies the label of a file system</li>
</ul>
<p><code>tune2fs</code></p>
<ul>
<li>Tunes or displays file system attributes</li>
</ul>

<h4 class="relative group">XFS Management Commands
    <div id="xfs-management-commands" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#xfs-management-commands" aria-label="Anchor">#</a>
    </span>
    
</h4>
<p><code>xfs_admin  </code></p>
<ul>
<li>Tunes file system attributes</li>
</ul>
<p><code>xfs_growfs </code></p>
<ul>
<li>Extends the size of a file system</li>
</ul>
<p><code>xfs_info  </code></p>
<ul>
<li>Exhibits information about a file system</li>
</ul>

<h4 class="relative group">General File System Commands
    <div id="general-file-system-commands" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#general-file-system-commands" aria-label="Anchor">#</a>
    </span>
    
</h4>
<p><code>blkid  </code></p>
<ul>
<li>Displays block device attributes including their UUIDs and labels</li>
</ul>
<p><code>df </code></p>
<ul>
<li>Reports file system utilization</li>
</ul>
<p><code>du   </code></p>
<ul>
<li>Calculates disk usage of directories and file systems</li>
</ul>
<p><code>fsadm   </code></p>
<ul>
<li>Resizes a file system. This command is automatically invoked when the <code>lvresize</code> command is run with the <code>-r</code> switch.</li>
</ul>
<p><code>lsblk  </code></p>
<ul>
<li>Lists block devices and file systems and their attributes including their UUIDs and labels</li>
</ul>
<p><code>mkfs  </code></p>
<ul>
<li>Creates a file system. Use the <code>-t</code> option and specify ext3, ext4, vfat, or xfs file system type.</li>
</ul>
<p><code>mount    </code></p>
<ul>
<li>Mount a file system for user access.</li>
<li>Display currently mounted file systems.</li>
</ul>
<p><code>umount   </code></p>
<ul>
<li>Unmount a file system.</li>
</ul>

<h3 class="relative group">Mounting and Unmounting File Systems
    <div id="mounting-and-unmounting-file-systems" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#mounting-and-unmounting-file-systems" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ul>
<li>File system must be connected to the directory structure at a desired attachment point, (mount point)</li>
<li>A mount point in essence is any empty directory that is created and used for this purpose.</li>
</ul>
<p>Use the mount command to view information about xfs mounted file systems:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># mount -t xfs</span>
</span></span><span class="line"><span class="cl">/dev/mapper/rhel-root on / <span class="nb">type</span> xfs <span class="o">(</span>rw,relatime,seclabel,attr2,inode64,logbufs<span class="o">=</span>8,logbsize<span class="o">=</span>32k,noquota<span class="o">)</span>
</span></span><span class="line"><span class="cl">/dev/sda1 on /boot <span class="nb">type</span> xfs <span class="o">(</span>rw,relatime,seclabel,attr2,inode64,logbufs<span class="o">=</span>8,logbsize<span class="o">=</span>32k,noquota<span class="o">)</span>
</span></span></code></pre></div>
<h4 class="relative group">Mount command
    <div id="mount-command" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#mount-command" aria-label="Anchor">#</a>
    </span>
    
</h4>
<ul>
<li><code>-t</code> option
<ul>
<li>type.</li>
</ul>
</li>
<li>Mount a file system to a mount point.</li>
<li>Performed with the root user privileges.</li>
<li>Requires the absolute pathnames of the file system block device and the mount point name.</li>
<li>Accepts the UUID or label of the file system in lieu of the block device name.</li>
<li>Mount all or a specific type of file system.</li>
<li>Upon successful mount, the kernel places an entry for the file system in the <em>/proc/self/mounts</em> file.</li>
<li>A mount point should be empty when an attempt is made to mount a file system on it, otherwise the content of the mount point will hide.</li>
<li>The mount point must not be in use or the mount attempt will fail.</li>
</ul>
<p><strong>auto (noauto)</strong></p>
<ul>
<li>Mounts (does not mount) the file system when the <code>-a</code> option is specified</li>
</ul>
<p><strong>defaults</strong></p>
<ul>
<li>Mounts a file system with all the default values (async, auto, rw, etc.)</li>
</ul>
<p><strong>_netdev</strong></p>
<ul>
<li>Used for a file system that requires network connectivity in place before it can be mounted. NFS is an example.</li>
</ul>
<p><strong>remount</strong></p>
<ul>
<li>Remounts an already mounted file system to enable or disable an option</li>
</ul>
<p><strong>ro (rw)</strong></p>
<ul>
<li>Mounts a file system read-only read/write)</li>
</ul>

<h4 class="relative group">umount Command
    <div id="umount-command" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#umount-command" aria-label="Anchor">#</a>
    </span>
    
</h4>
<ul>
<li>Detach a file system from the directory hierarchy and make it inaccessible to users and applications.</li>
<li>Expects the absolute pathname to the block device containing the file system or its mount point name in order to detach it.</li>
<li>Unmount all or a specific type of file system.</li>
<li>Kernel removes the corresponding file system entry from the <em>/proc/self/mounts</em> file after it has been successfully disconnected.</li>
</ul>

<h3 class="relative group">Determining the UUID of a File System
    <div id="determining-the-uuid-of-a-file-system" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#determining-the-uuid-of-a-file-system" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ul>
<li>
<p>Extended and XFS file systems have a 128-bit (32 hexadecimal characters) UUID (Universally Unique IDentifier) assigned to it at the time of its creation.</p>
</li>
<li>
<p>UUIDs assigned to vfat file systems are 32-bit (8 hexadecimal characters) in length.</p>
</li>
<li>
<p>Assigning a UUID makes the file system unique among many other file systems that potentially exist on the system.</p>
</li>
<li>
<p>Persistent across system reboots.</p>
</li>
<li>
<p>Used by default in RHEL 9 in the <em>/etc/fstab</em> file for any file system that is created by the system in a standard partition.</p>
</li>
<li>
<p>RHEL attempts to mount all file systems listed in the <em>/etc/fstab</em> file at reboots.</p>
</li>
<li>
<p>Each file system has an associated device file and UUID, but may or may not have a corresponding label.</p>
</li>
<li>
<p>The system checks for the presence of each file system&rsquo;s device file, UUID, or label, and then attempts to mount it.</p>
</li>
</ul>
<p>Determine the UUID of /boot</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># lsblk | grep boot</span>
</span></span><span class="line"><span class="cl">sda1          8:1    <span class="m">0</span>    1G  <span class="m">0</span> part /boot
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo xfs_admin -u /dev/sda1</span>
</span></span><span class="line"><span class="cl"><span class="nv">UUID</span> <span class="o">=</span> 630568e1-608f-4603-9b97-e27f82c7d4b4
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo blkid /dev/sda1</span>
</span></span><span class="line"><span class="cl">/dev/sda1: <span class="nv">UUID</span><span class="o">=</span><span class="s2">&#34;630568e1-608f-4603-9b97-e27f82c7d4b4&#34;</span> <span class="nv">TYPE</span><span class="o">=</span><span class="s2">&#34;xfs&#34;</span> <span class="nv">PARTUUID</span><span class="o">=</span><span class="s2">&#34;7dcb43e4-01&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo lsblk -f /dev/sda1</span>
</span></span><span class="line"><span class="cl">NAME FSTYPE FSVER LABEL UUID                                 FSAVAIL FSUSE% MOUNTPOINTS
</span></span><span class="line"><span class="cl">sda1 xfs                630568e1-608f-4603-9b97-e27f82c7d4b4  616.1M    36% /boot
</span></span></code></pre></div><p>For extended file systems, you can use the <code>tune2fs</code>, <code>blkid</code>, or <code>lsblk</code> commands to determine the UUID.</p>
<p>A UUID is also assigned to a file system that is created in a VDO or LVM volume; however, it need not be used in the fstab file, as the device
files associated with the logical volumes are always unique and persistent.</p>

<h3 class="relative group">Labeling a File System
    <div id="labeling-a-file-system" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#labeling-a-file-system" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ul>
<li>A unique label may be used instead of a UUID to keep the file system association with its device file exclusive and persistent across system reboots.</li>
<li>A label is limited to a maximum of 12 characters on the XFS file system</li>
<li>16 characters on the Extended file system.</li>
<li>By default, no labels are assigned to a file system at the time of its creation.</li>
</ul>
<p>The <em>/boot</em> file system is located in the <em>/dev/sda1</em> partition and its type is XFS. You can use the <code>xfs_admin</code> or the <code>lsblk</code> command as follows to
determine its label:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo xfs_admin -l /dev/sda1</span>
</span></span><span class="line"><span class="cl"><span class="nv">label</span> <span class="o">=</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo lsblk -f /dev/sda1</span>
</span></span><span class="line"><span class="cl">NAME FSTYPE FSVER LABEL UUID                                 FSAVAIL FSUSE% MOUNTPOINTS
</span></span><span class="line"><span class="cl">sda1 xfs                630568e1-608f-4603-9b97-e27f82c7d4b4  616.1M    36% /boot
</span></span></code></pre></div><ul>
<li>Not needed on a file system if you intend to use its UUID or if it is created in a logical volume</li>
<li>You can still apply one using the <code>xfs_admin</code> command with the <code>-L</code> option.</li>
<li>Labeling an XFS file system requires that the target file system be unmounted.</li>
</ul>
<p>unmount /boot, set the label &ldquo;bootfs&rdquo; on its device file, and remount it:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo umount /boot</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo xfs_admin -L bootfs /dev/sda1</span>
</span></span><span class="line"><span class="cl">writing all SBs
</span></span><span class="line"><span class="cl">new <span class="nv">label</span> <span class="o">=</span> <span class="s2">&#34;bootfs&#34;</span>
</span></span></code></pre></div><p>Confirm the new label by executing <code>sudo xfs_admin -l /dev/sda1</code> or <code>sudo lsblk -f /dev/sda1</code>.</p>
<p>For extended file systems, you can use the <code>e2label</code> command to apply a label and the <code>tune2fs</code>, <code>blkid</code>, and <code>lsblk</code> commands to view and verify.</p>
<p>Now you can replace the <code>UUID=\&quot;22d05484-6ae1-4ef8-a37d-abab674a5e35</code>&quot; for /boot in the fstab file with <code>LABEL=bootfs</code>, and unmount and remount /boot as demonstrated above for confirmation.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># mount /boot</span>
</span></span><span class="line"><span class="cl">mount: <span class="o">(</span>hint<span class="o">)</span> your fstab has been modified, but systemd still uses
</span></span><span class="line"><span class="cl">       the old version<span class="p">;</span> use <span class="s1">&#39;systemctl daemon-reload&#39;</span> to reload.
</span></span></code></pre></div><p>A label may also be applied to a file system created in a logical volume; however, it is not recommended for use in the fstab file, as the
device files for logical volumes are always unique and remain persistent across system reboots.</p>

<h3 class="relative group">Automatically Mounting a File System at Reboots
    <div id="automatically-mounting-a-file-system-at-reboots" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#automatically-mounting-a-file-system-at-reboots" aria-label="Anchor">#</a>
    </span>
    
</h3>

<h4 class="relative group"><em>/etc/fstab</em>
    <div id="etcfstab" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#etcfstab" aria-label="Anchor">#</a>
    </span>
    
</h4>
<ul>
<li>File systems defined in the <em>/etc/fstab</em> file are mounted automatically at reboots.</li>
<li>Must contain proper and complete information for each listed file system.</li>
<li>An incomplete or inaccurate entry might leave the system in an undesirable or unbootable state.</li>
<li>Only need to specify one of the four attributes
<ul>
<li>Block device name</li>
<li>UUID</li>
<li>label</li>
<li>mount point</li>
</ul>
</li>
<li>The <code>mount</code> command obtains the rest of the information from this file.</li>
<li>Only need to specify one of these attributes with the <code>umount</code> command to detach it from the directory hierarchy.</li>
<li>Contains entries for file systems that are created at the time of installation.</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># cat /etc/fstab</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#</span>
</span></span><span class="line"><span class="cl"><span class="c1"># /etc/fstab</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Created by anaconda on Sun Feb 25 12:11:47 2024</span>
</span></span><span class="line"><span class="cl"><span class="c1">#</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Accessible filesystems, by reference, are maintained under &#39;/dev/disk/&#39;.</span>
</span></span><span class="line"><span class="cl"><span class="c1"># See man pages fstab(5), findfs(8), mount(8) and/or blkid(8) for more info.</span>
</span></span><span class="line"><span class="cl"><span class="c1">#</span>
</span></span><span class="line"><span class="cl"><span class="c1"># After editing this file, run &#39;systemctl daemon-reload&#39; to update systemd</span>
</span></span><span class="line"><span class="cl"><span class="c1"># units generated from this file.</span>
</span></span><span class="line"><span class="cl"><span class="c1">#</span>
</span></span><span class="line"><span class="cl">/dev/mapper/rhel-root   /                       xfs     defaults        <span class="m">0</span> <span class="m">0</span>
</span></span><span class="line"><span class="cl"><span class="nv">LABEL</span><span class="o">=</span>bootfs /boot                   xfs     defaults        <span class="m">0</span> <span class="m">0</span>
</span></span><span class="line"><span class="cl">/dev/mapper/rhel-swap   none                    swap    defaults        <span class="m">0</span> <span class="m">0</span>
</span></span></code></pre></div><p>EXAM TIP: Any missing or invalid entry in this file may render the system unbootable. You will have to boot the system in emergency mode to fix this file. Ensure that you understand each field in the file for both file system and swap entries.</p>
<p>The format of this file is such that each row is broken out into six columns to identify the required attributes for each file system to be successfully mounted. Here is what the columns contain:</p>
<p>Column 1:</p>
<ul>
<li>physical or virtual device path where the file system is resident, or its associated UUID or label.</li>
<li>can be entries for network file systems here as well.</li>
</ul>
<p>Column 2:</p>
<ul>
<li>Identifies the mount point for the file system.</li>
<li>swap partitions, use either &ldquo;none&rdquo; or &ldquo;swap&rdquo;.</li>
</ul>
<p>Column 3:</p>
<ul>
<li>Type of file system such as Ext3, Ext4, XFS, VFAT, or ISO9660.</li>
<li>For swap, the type &ldquo;swap&rdquo; is used.</li>
<li>may use &ldquo;auto&rdquo; instead to leave it up to the mount command to determine the type of the file system.</li>
</ul>
<p>Column 4:</p>
<ul>
<li>Identifies one or more comma-separated options to be used when mounting the file system.</li>
<li>Consult the manual pages of the <code>mount</code> command or the fstab file for additional options and details.</li>
</ul>
<p>Column 5:</p>
<ul>
<li>Used by the dump utility to ascertain the file systems that need to be dumped.</li>
<li>Value of 0 (or the absence of this column) disables this check.</li>
<li>This field is applicable only on Extended file systems;</li>
<li>XFS does not use it.</li>
</ul>
<p>Column 6:</p>
<ul>
<li>
<p>Sequence number in which to run the <code>e2fsck</code> (file system check and repair utility for Extended file system types) utility on the file system at system boot.</p>
</li>
<li>
<p>By default, 0 is used for memory-based, remote, and removable file systems, 1 for /, and 2 for /boot and other physical file systems. 0 can also be used for /, /boot, and other physical file systems you don&rsquo;t want to be checked or repaired.</p>
</li>
<li>
<p>Applicable only on Extended file systems;</p>
</li>
<li>
<p>XFS does not use it.</p>
</li>
<li>
<p>0 in columns 5 and 6 for XFS, virtual, remote, and removable file system types has no meaning. You do not need to add them for these file system types.</p>
</li>
</ul>

<h2 class="relative group">Lab: Create and Mount Ext4, VFAT, and XFS File Systems in Partitions (server2)
    <div id="lab-create-and-mount-ext4-vfat-and-xfs-file-systems-in-partitions-server2" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#lab-create-and-mount-ext4-vfat-and-xfs-file-systems-in-partitions-server2" aria-label="Anchor">#</a>
    </span>
    
</h2>
<ul>
<li>Create 2 x 100MB partitions on the /dev/sdb disk,</li>
<li>initialize them separately with the Ext4 and VFAT file system types,</li>
<li>define them for persistence using their UUIDs,</li>
<li>create mount points called /ext4fs1 and /vfatfs1,</li>
<li>attach them to the directorystructure</li>
<li>verify their availability and usage</li>
<li>you will use the disk /dev/sdc and repeat the above procedure to establish an XFS file system in it and mount it on /xfsfs1.</li>
</ul>
<p>1. Apply the label &ldquo;msdos&rdquo; to the sdb disk using the parted command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server20 ~<span class="o">]</span><span class="c1"># sudo parted /dev/sdb mklabel msdos</span>
</span></span><span class="line"><span class="cl">Warning: The existing disk label on /dev/sdb will be destroyed and all data on this disk will be
</span></span><span class="line"><span class="cl">lost. Do you want to <span class="k">continue</span>?
</span></span><span class="line"><span class="cl">Yes/No? y                                                                 
</span></span><span class="line"><span class="cl">Information: You may need to update /etc/fstab.
</span></span></code></pre></div><p>2. Create 2 x 100MB primary partitions on sdb with the parted command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server20 ~<span class="o">]</span><span class="c1"># sudo parted /dev/sdb mkpart primary 1 101m</span>
</span></span><span class="line"><span class="cl">Information: You may need to update /etc/fstab.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server20 ~<span class="o">]</span><span class="c1"># sudo parted /dev/sdb mkpart primary 102 201m</span>
</span></span><span class="line"><span class="cl">Information: You may need to update /etc/fstab.
</span></span></code></pre></div><p>3. Initialize the first partition (sdb1) with Ext4 file system type using the mkfs command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server20 ~<span class="o">]</span><span class="c1"># sudo mkfs -t ext4 /dev/sdb1</span>
</span></span><span class="line"><span class="cl">mke2fs 1.46.5 <span class="o">(</span>30-Dec-2021<span class="o">)</span>
</span></span><span class="line"><span class="cl">/dev/sdb1 contains a LVM2_member file system
</span></span><span class="line"><span class="cl">Proceed anyway? <span class="o">(</span>y,N<span class="o">)</span> y
</span></span><span class="line"><span class="cl">Creating filesystem with <span class="m">97280</span> 1k blocks and <span class="m">24288</span> inodes
</span></span><span class="line"><span class="cl">Filesystem UUID: 73db0582-7183-42aa-951d-2f48b7712597
</span></span><span class="line"><span class="cl">Superblock backups stored on blocks: 
</span></span><span class="line"><span class="cl">	8193, 24577, 40961, 57345, <span class="m">73729</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Allocating group tables: <span class="k">done</span>                            
</span></span><span class="line"><span class="cl">Writing inode tables: <span class="k">done</span>                            
</span></span><span class="line"><span class="cl">Creating journal <span class="o">(</span><span class="m">4096</span> blocks<span class="o">)</span>: <span class="k">done</span>
</span></span><span class="line"><span class="cl">Writing superblocks and filesystem accounting information: <span class="k">done</span> 
</span></span></code></pre></div><p>4. Initialize the second partition (sdb2) with VFAT file system type using the mkfs command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server20 ~<span class="o">]</span><span class="c1"># sudo mkfs -t vfat /dev/sdb2</span>
</span></span><span class="line"><span class="cl">mkfs.fat 4.2 <span class="o">(</span>2021-01-31<span class="o">)</span>
</span></span></code></pre></div><p>5. Initialize the whole disk (sdc) with the XFS file system type using the mkfs.xfs command. Add the -f flag to force the removal of any old partitioning or labeling information from the disk.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server20 ~<span class="o">]</span><span class="c1"># sudo mkfs.xfs /dev/sdc -f </span>
</span></span><span class="line"><span class="cl">Filesystem should be larger than 300MB.
</span></span><span class="line"><span class="cl">Log size should be at least 64MB.
</span></span><span class="line"><span class="cl">Support <span class="k">for</span> filesystems like this one is deprecated and they will not be supported in future releases.
</span></span><span class="line"><span class="cl">meta-data<span class="o">=</span>/dev/sdc               <span class="nv">isize</span><span class="o">=</span><span class="m">512</span>    <span class="nv">agcount</span><span class="o">=</span>4, <span class="nv">agsize</span><span class="o">=</span><span class="m">16000</span> <span class="nv">blks</span>
</span></span><span class="line"><span class="cl">         <span class="o">=</span>                       <span class="nv">sectsz</span><span class="o">=</span><span class="m">512</span>   <span class="nv">attr</span><span class="o">=</span>2, <span class="nv">projid32bit</span><span class="o">=</span><span class="nv">1</span>
</span></span><span class="line"><span class="cl">         <span class="o">=</span>                       <span class="nv">crc</span><span class="o">=</span><span class="m">1</span>        <span class="nv">finobt</span><span class="o">=</span>1, <span class="nv">sparse</span><span class="o">=</span>1, <span class="nv">rmapbt</span><span class="o">=</span><span class="nv">0</span>
</span></span><span class="line"><span class="cl">         <span class="o">=</span>                       <span class="nv">reflink</span><span class="o">=</span><span class="m">1</span>    <span class="nv">bigtime</span><span class="o">=</span><span class="m">1</span> <span class="nv">inobtcount</span><span class="o">=</span><span class="m">1</span> <span class="nv">nrext64</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl"><span class="nv">data</span>     <span class="o">=</span>                       <span class="nv">bsize</span><span class="o">=</span><span class="m">4096</span>   <span class="nv">blocks</span><span class="o">=</span>64000, <span class="nv">imaxpct</span><span class="o">=</span><span class="nv">25</span>
</span></span><span class="line"><span class="cl">         <span class="o">=</span>                       <span class="nv">sunit</span><span class="o">=</span><span class="m">0</span>      <span class="nv">swidth</span><span class="o">=</span><span class="m">0</span> blks
</span></span><span class="line"><span class="cl"><span class="nv">naming</span>   <span class="o">=</span>version <span class="m">2</span>              <span class="nv">bsize</span><span class="o">=</span><span class="m">4096</span>   ascii-ci<span class="o">=</span>0, <span class="nv">ftype</span><span class="o">=</span><span class="m">1</span>
</span></span><span class="line"><span class="cl"><span class="nv">log</span>      <span class="o">=</span>internal log           <span class="nv">bsize</span><span class="o">=</span><span class="m">4096</span>   <span class="nv">blocks</span><span class="o">=</span>1368, <span class="nv">version</span><span class="o">=</span><span class="nv">2</span>
</span></span><span class="line"><span class="cl">         <span class="o">=</span>                       <span class="nv">sectsz</span><span class="o">=</span><span class="m">512</span>   <span class="nv">sunit</span><span class="o">=</span><span class="m">0</span> blks, lazy-count<span class="o">=</span><span class="m">1</span>
</span></span><span class="line"><span class="cl"><span class="nv">realtime</span> <span class="o">=</span>none                   <span class="nv">extsz</span><span class="o">=</span><span class="m">4096</span>   <span class="nv">blocks</span><span class="o">=</span>0, <span class="nv">rtextents</span><span class="o">=</span><span class="m">0</span>
</span></span></code></pre></div><p>6. Determine the UUIDs for all three file systems using the lsblk command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># lsblk -f /dev/sdb /dev/sdc</span>
</span></span><span class="line"><span class="cl">NAME   FSTYPE FSVER LABEL UUID                                 FSAVAIL FSUSE% MOUNTPOINTS
</span></span><span class="line"><span class="cl">sdb                                                                           
</span></span><span class="line"><span class="cl">sdb1 ext4   1.0         0bdd22d0-db53-40bb-8cc7-36efc9184196                
</span></span><span class="line"><span class="cl">sdb2 vfat   FAT16       FB3A-6572                                           
</span></span><span class="line"><span class="cl">sdc    xfs                91884326-9686-4569-96fa-9adb02c1f6f4&gt;<span class="o">)</span>
</span></span></code></pre></div><p>7. Open the /etc/fstab file, go to the end of the file, and append entries for the file systems for persistence using their UUIDs:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nv">UUID</span><span class="o">=</span>0bdd22d0-db53-40bb-8cc7-36efc9184196 /ext4fs1 ext4 defaults <span class="m">0</span> <span class="m">0</span>                
</span></span><span class="line"><span class="cl"><span class="nv">UUID</span><span class="o">=</span>FB3A-6572 /vfatfs1 vfat defaults <span class="m">0</span> <span class="m">0</span>                                          
</span></span><span class="line"><span class="cl"><span class="nv">UUID</span><span class="o">=</span>91884326-9686-4569-96fa-9adb02c1f6f4 /xfsfs1 xfs defaults <span class="m">0</span> <span class="m">0</span>
</span></span></code></pre></div><p>8. Create mount points /ext4fs1, /vfatfs1, and /xfsfs1 for the three
file systems using the mkdir command:
<code>[root@server2 ~]# sudo mkdir /ext4fs1 /vfatfs1 /xfsfs1</code></p>
<p>9. Mount the new file systems using the mount command. This command will fail if there are any invalid or missing information in the file.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo mount -a</span>
</span></span><span class="line"><span class="cl">mount: <span class="o">(</span>hint<span class="o">)</span> your fstab has been modified, but systemd still uses
</span></span><span class="line"><span class="cl">       the old version<span class="p">;</span> use <span class="s1">&#39;systemctl daemon-reload&#39;</span> to reload.
</span></span></code></pre></div><p>10. View the mount and availability status as well as the types of all three file systems using the df command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># df -hT</span>
</span></span><span class="line"><span class="cl">Filesystem            Type      Size  Used Avail Use% Mounted on
</span></span><span class="line"><span class="cl">devtmpfs              devtmpfs  4.0M     <span class="m">0</span>  4.0M   0% /dev
</span></span><span class="line"><span class="cl">tmpfs                 tmpfs     888M     <span class="m">0</span>  888M   0% /dev/shm
</span></span><span class="line"><span class="cl">tmpfs                 tmpfs     356M  5.1M  351M   2% /run
</span></span><span class="line"><span class="cl">/dev/mapper/rhel-root xfs        17G  2.0G   15G  12% /
</span></span><span class="line"><span class="cl">/dev/sda1             xfs       960M  344M  617M  36% /boot
</span></span><span class="line"><span class="cl">tmpfs                 tmpfs     178M     <span class="m">0</span>  178M   0% /run/user/0
</span></span><span class="line"><span class="cl">/dev/sdb1             ext4       84M   14K   77M   1% /ext4fs1
</span></span><span class="line"><span class="cl">/dev/sdb2             vfat       95M     <span class="m">0</span>   95M   0% /vfatfs1
</span></span><span class="line"><span class="cl">/dev/sdc              xfs       245M   15M  231M   6% /xfsfs1
</span></span></code></pre></div>
<h2 class="relative group">Lab: Create and Mount Ext4 and XFS File Systems in LVM Logical Volumes (server2)
    <div id="lab-create-and-mount-ext4-and-xfs-file-systems-in-lvm-logical-volumes-server2" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#lab-create-and-mount-ext4-and-xfs-file-systems-in-lvm-logical-volumes-server2" aria-label="Anchor">#</a>
    </span>
    
</h2>
<ul>
<li>Create a volume group called <em>vgfs</em> comprised of a 172MB physical volume created in a partition on the <em>/dev/sdd</em> disk.</li>
<li>The PE size for the volume group should be set at 16MB.</li>
<li>Create two logical volumes called <em>ext4vol</em> and <em>xfsvol</em> of sizes 80MB each and initialize them with the Ext4 and XFS file system types.</li>
<li>Ensure that both file systems are persistently defined using their logical volume device filenames.</li>
<li>Create mount points called /ext4fs2 and /xfsfs2,</li>
<li>Mount the file systems.</li>
<li>Verify their availability and usage.</li>
</ul>
<p>1. Create a 172MB partition on the sdd disk using the parted command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo parted /dev/sdd mkpart pri 1 172m</span>
</span></span><span class="line"><span class="cl">Information: You may need to update /etc/fstab.
</span></span></code></pre></div><p>2. Initialize the sdd1 partition for use in LVM using the pvcreate command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo pvcreate /dev/sdd1</span>
</span></span><span class="line"><span class="cl">  Device /dev/sdb2 has updated name <span class="o">(</span>devices file /dev/sdd2<span class="o">)</span>
</span></span><span class="line"><span class="cl">  Device /dev/sdb1 has no PVID <span class="o">(</span>devices file brKVLFEG3AoBzhWoso0Sa1gLYHgNZ4vL<span class="o">)</span>
</span></span><span class="line"><span class="cl">  Physical volume <span class="s2">&#34;/dev/sdd1&#34;</span> successfully created.
</span></span></code></pre></div><p>3. Create the volume group vgfs with a PE size of 16MB using the physical volume sdd1:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo vgcreate -s 16 vgfs /dev/sdd1</span>
</span></span><span class="line"><span class="cl">  Volume group <span class="s2">&#34;vgfs&#34;</span> successfully created
</span></span></code></pre></div><p>The PE size is not easy to alter after a volume group creation, so ensure it is defined as required at creation.</p>
<p>4. Create two logical volumes ext4vol and xfsvol of size 80MB each in vgfs using the <code>lvcreate</code> command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo lvcreate -n ext4vol -L 80 vgfs</span>
</span></span><span class="line"><span class="cl">  Logical volume <span class="s2">&#34;ext4vol&#34;</span> created.
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo lvcreate  -n xfsvol -L 80 vgfs</span>
</span></span><span class="line"><span class="cl">  Logical volume <span class="s2">&#34;xfsvol&#34;</span> created.
</span></span></code></pre></div><p>5. Format the ext4vol logical volume with the Ext4 file system type using the mkfs.ext4 command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo mkfs.ext4 /dev/vgfs/ext4vol</span>
</span></span><span class="line"><span class="cl">mke2fs 1.46.5 <span class="o">(</span>30-Dec-2021<span class="o">)</span>
</span></span><span class="line"><span class="cl">Creating filesystem with <span class="m">81920</span> 1k blocks and <span class="m">20480</span> inodes
</span></span><span class="line"><span class="cl">Filesystem UUID: 4ed1fef7-2164-485b-8035-7f627cd59419
</span></span><span class="line"><span class="cl">Superblock backups stored on blocks: 
</span></span><span class="line"><span class="cl">	8193, 24577, 40961, 57345, <span class="m">73729</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Allocating group tables: <span class="k">done</span>                            
</span></span><span class="line"><span class="cl">Writing inode tables: <span class="k">done</span>                            
</span></span><span class="line"><span class="cl">Creating journal <span class="o">(</span><span class="m">4096</span> blocks<span class="o">)</span>: <span class="k">done</span>
</span></span><span class="line"><span class="cl">Writing superblocks and filesystem accounting information: <span class="k">done</span>
</span></span></code></pre></div><p>You can also use <code>sudo mkfs -t ext4 /dev/vgfs/ext4vol</code>.</p>
<p>6. Format the xfsvol logical volume with the XFS file system type using the mkfs.xfs command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo mkfs.xfs /dev/vgfs/xfsvol</span>
</span></span><span class="line"><span class="cl">Filesystem should be larger than 300MB.
</span></span><span class="line"><span class="cl">Log size should be at least 64MB.
</span></span><span class="line"><span class="cl">Support <span class="k">for</span> filesystems like this one is deprecated and they will not be supported in future releases.
</span></span><span class="line"><span class="cl">meta-data<span class="o">=</span>/dev/vgfs/xfsvol       <span class="nv">isize</span><span class="o">=</span><span class="m">512</span>    <span class="nv">agcount</span><span class="o">=</span>4, <span class="nv">agsize</span><span class="o">=</span><span class="m">5120</span> <span class="nv">blks</span>
</span></span><span class="line"><span class="cl">         <span class="o">=</span>                       <span class="nv">sectsz</span><span class="o">=</span><span class="m">512</span>   <span class="nv">attr</span><span class="o">=</span>2, <span class="nv">projid32bit</span><span class="o">=</span><span class="nv">1</span>
</span></span><span class="line"><span class="cl">         <span class="o">=</span>                       <span class="nv">crc</span><span class="o">=</span><span class="m">1</span>        <span class="nv">finobt</span><span class="o">=</span>1, <span class="nv">sparse</span><span class="o">=</span>1, <span class="nv">rmapbt</span><span class="o">=</span><span class="nv">0</span>
</span></span><span class="line"><span class="cl">         <span class="o">=</span>                       <span class="nv">reflink</span><span class="o">=</span><span class="m">1</span>    <span class="nv">bigtime</span><span class="o">=</span><span class="m">1</span> <span class="nv">inobtcount</span><span class="o">=</span><span class="m">1</span> <span class="nv">nrext64</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl"><span class="nv">data</span>     <span class="o">=</span>                       <span class="nv">bsize</span><span class="o">=</span><span class="m">4096</span>   <span class="nv">blocks</span><span class="o">=</span>20480, <span class="nv">imaxpct</span><span class="o">=</span><span class="nv">25</span>
</span></span><span class="line"><span class="cl">         <span class="o">=</span>                       <span class="nv">sunit</span><span class="o">=</span><span class="m">0</span>      <span class="nv">swidth</span><span class="o">=</span><span class="m">0</span> blks
</span></span><span class="line"><span class="cl"><span class="nv">naming</span>   <span class="o">=</span>version <span class="m">2</span>              <span class="nv">bsize</span><span class="o">=</span><span class="m">4096</span>   ascii-ci<span class="o">=</span>0, <span class="nv">ftype</span><span class="o">=</span><span class="m">1</span>
</span></span><span class="line"><span class="cl"><span class="nv">log</span>      <span class="o">=</span>internal log           <span class="nv">bsize</span><span class="o">=</span><span class="m">4096</span>   <span class="nv">blocks</span><span class="o">=</span>1368, <span class="nv">version</span><span class="o">=</span><span class="nv">2</span>
</span></span><span class="line"><span class="cl">         <span class="o">=</span>                       <span class="nv">sectsz</span><span class="o">=</span><span class="m">512</span>   <span class="nv">sunit</span><span class="o">=</span><span class="m">0</span> blks, lazy-count<span class="o">=</span><span class="m">1</span>
</span></span><span class="line"><span class="cl"><span class="nv">realtime</span> <span class="o">=</span>none                   <span class="nv">extsz</span><span class="o">=</span><span class="m">4096</span>   <span class="nv">blocks</span><span class="o">=</span>0, <span class="nv">rtextents</span><span class="o">=</span><span class="m">0</span>
</span></span></code></pre></div><p>You may also use <code>sudo mkfs -t xfs /dev/vgfs/xfsvol</code> instead.</p>
<p>7. Open the /etc/fstab file, go to the end of the file, and append entries for the file systems for persistence using their device files:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">/dev/vgfs/ext4vol /ext4fs2 ext4 defaults <span class="m">0</span> <span class="m">0</span>
</span></span><span class="line"><span class="cl">/dev/vgfs/xfsvol /xfsfs2 xfs defaults <span class="m">0</span> <span class="m">0</span>
</span></span></code></pre></div><p>8. Create mount points /ext4fs2 and /xfsfs2 using the mkdir command:
<code>[root@server2 ~]# sudo mkdir /ext4fs2 /xfsfs2</code></p>
<p>9. Mount the new file systems using the mount command. This command will fail if there is any invalid or missing information in the file.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo mount -a</span>
</span></span><span class="line"><span class="cl">mount: <span class="o">(</span>hint<span class="o">)</span> your fstab has been modified, but systemd still uses
</span></span><span class="line"><span class="cl">       the old version<span class="p">;</span> use <span class="s1">&#39;systemctl daemon-reload&#39;</span> to reload.
</span></span></code></pre></div><p>10. View the mount and availability status as well as the types of the
new LVM file systems using the lsblk and df commands:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># lsblk /dev/sdd</span>
</span></span><span class="line"><span class="cl">NAME             MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTS
</span></span><span class="line"><span class="cl">sdd                8:48   <span class="m">0</span>  250M  <span class="m">0</span> disk 
</span></span><span class="line"><span class="cl">sdd1             8:49   <span class="m">0</span>  163M  <span class="m">0</span> part 
</span></span><span class="line"><span class="cl">  vgfs-ext4vol 253:2    <span class="m">0</span>   80M  <span class="m">0</span> lvm  /ext4fs2
</span></span><span class="line"><span class="cl">  vgfs-xfsvol  253:3    <span class="m">0</span>   80M  <span class="m">0</span> lvm  /xfsfs2
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># df -hT | grep fs2</span>
</span></span><span class="line"><span class="cl">/dev/mapper/vgfs-ext4vol ext4       70M   14K   64M   1% /ext4fs2
</span></span><span class="line"><span class="cl">/dev/mapper/vgfs-xfsvol  xfs        75M  4.8M   70M   7% /xfsfs2
</span></span></code></pre></div>
<h3 class="relative group">Lab: Resize Ext4 and XFS File Systems in LVM Logical Volumes (server 2)
    <div id="lab-resize-ext4-and-xfs-file-systems-in-lvm-logical-volumes-server-2" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#lab-resize-ext4-and-xfs-file-systems-in-lvm-logical-volumes-server-2" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ul>
<li>Grow the size of the <em>vgfs</em> volume group that was created in the last lab by adding the whole <em>sde</em> disk to it.</li>
<li>Extend the <em>ext4vol</em> logical volume along with the file system it contains by 40MB using two separate commands.</li>
<li>Extend the <em>xfsvol</em> logical volume along with the file system it contains by 40MB using a single command.</li>
<li>Verify the new extensions.</li>
</ul>
<p>1. Initialize the sde disk and add it to the vgfs volume group:</p>
<p>sde had a gpt partition table with no partitions ran the following to reset it:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># dd if=/dev/zero of=/dev/sde bs=1M count=2 conv=fsync</span>
</span></span><span class="line"><span class="cl">2+0 records in
</span></span><span class="line"><span class="cl">2+0 records out
</span></span><span class="line"><span class="cl"><span class="m">2097152</span> bytes <span class="o">(</span>2.1 MB, 2.0 MiB<span class="o">)</span> copied, 0.0102036 s, <span class="m">206</span> MB/s
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo partprobe /dev/sde</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo pvcreate /dev/sde</span>
</span></span><span class="line"><span class="cl">  Physical volume <span class="s2">&#34;/dev/sde&#34;</span> successfully created.
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo pvcreate /dev/sde</span>
</span></span><span class="line"><span class="cl">  Physical volume <span class="s2">&#34;/dev/sde&#34;</span> successfully created.
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo vgextend vgfs /dev/sde</span>
</span></span><span class="line"><span class="cl">  Volume group <span class="s2">&#34;vgfs&#34;</span> successfully extended
</span></span></code></pre></div><p>2. Confirm the new size of vgfs using the <code>vgs</code> and <code>vgdisplay</code> commands:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo vgs</span>
</span></span><span class="line"><span class="cl">  VG   <span class="c1">#PV #LV #SN Attr   VSize   VFree  </span>
</span></span><span class="line"><span class="cl">  rhel   <span class="m">1</span>   <span class="m">2</span>   <span class="m">0</span> wz--n- &lt;19.00g      <span class="m">0</span> 
</span></span><span class="line"><span class="cl">  vgfs   <span class="m">2</span>   <span class="m">2</span>   <span class="m">0</span> wz--n- 400.00m 240.00m
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># vgdisplay vgfs</span>
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VBa5e3cbf7-10921e08 PVID qeP9dCevNnTy422I8p18NxDKQ2WyDodU last seen on /dev/sdf1 not found.
</span></span><span class="line"><span class="cl">  --- Volume group ---
</span></span><span class="line"><span class="cl">  VG Name               vgfs
</span></span><span class="line"><span class="cl">  System ID             
</span></span><span class="line"><span class="cl">  Format                lvm2
</span></span><span class="line"><span class="cl">  Metadata Areas        <span class="m">2</span>
</span></span><span class="line"><span class="cl">  Metadata Sequence No  <span class="m">4</span>
</span></span><span class="line"><span class="cl">  VG Access             read/write
</span></span><span class="line"><span class="cl">  VG Status             resizable
</span></span><span class="line"><span class="cl">  MAX LV                <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Cur LV                <span class="m">2</span>
</span></span><span class="line"><span class="cl">  Open LV               <span class="m">2</span>
</span></span><span class="line"><span class="cl">  Max PV                <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Cur PV                <span class="m">2</span>
</span></span><span class="line"><span class="cl">  Act PV                <span class="m">2</span>
</span></span><span class="line"><span class="cl">  VG Size               400.00 MiB
</span></span><span class="line"><span class="cl">  PE Size               16.00 MiB
</span></span><span class="line"><span class="cl">  Total PE              <span class="m">25</span>
</span></span><span class="line"><span class="cl">  Alloc PE / Size       <span class="m">10</span> / 160.00 MiB
</span></span><span class="line"><span class="cl">  Free  PE / Size       <span class="m">15</span> / 240.00 MiB
</span></span><span class="line"><span class="cl">  VG UUID               amDADJ-I4dH-jQUF-RFcE-58iL-jItl-5ti6LS
</span></span></code></pre></div><p>There are now two physical volumes in the volume group and the total size increased to 400MiB.</p>
<p>3. Grow the logical volume ext4vol and the file system it holds by 40MB using the <code>lvextend</code> and <code>fsadm</code> command pair. Make sure to use an uppercase L to specify the size. The default unit is MiB. The plus sign (+) signifies an addition to the current size.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo lvextend -L +40 /dev/vgfs/ext4vol</span>
</span></span><span class="line"><span class="cl">  Rounding size to boundary between physical extents: 48.00 MiB.
</span></span><span class="line"><span class="cl">  Size of logical volume vgfs/ext4vol changed from 80.00 MiB <span class="o">(</span><span class="m">5</span> extents<span class="o">)</span> to 128.00 MiB <span class="o">(</span><span class="m">8</span> extents<span class="o">)</span>.
</span></span><span class="line"><span class="cl">  Logical volume vgfs/ext4vol successfully resized.
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo fsadm resize /dev/vgfs/ext4vol</span>
</span></span><span class="line"><span class="cl">resize2fs 1.46.5 <span class="o">(</span>30-Dec-2021<span class="o">)</span>
</span></span><span class="line"><span class="cl">Filesystem at /dev/mapper/vgfs-ext4vol is mounted on /ext4fs2<span class="p">;</span> on-line resizing required
</span></span><span class="line"><span class="cl"><span class="nv">old_desc_blocks</span> <span class="o">=</span> 1, <span class="nv">new_desc_blocks</span> <span class="o">=</span> <span class="m">1</span>
</span></span><span class="line"><span class="cl">The filesystem on /dev/mapper/vgfs-ext4vol is now <span class="m">131072</span> <span class="o">(</span>1k<span class="o">)</span> blocks long.
</span></span></code></pre></div><p>The resize subcommand instructs the <code>fsadm</code> command to grow the file system to the full length of the specified logical volume.</p>
<p>4. Grow the logical volume xfsvol and the file system (-r) it holds by (+) 40MB using the lvresize command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo lvresize -r -L +40 /dev/vgfs/xfsvol</span>
</span></span><span class="line"><span class="cl">  Rounding size to boundary between physical extents: 48.00 MiB.
</span></span><span class="line"><span class="cl">  Size of logical volume vgfs/xfsvol changed from 80.00 MiB <span class="o">(</span><span class="m">5</span> extents<span class="o">)</span> to 128.00 MiB <span class="o">(</span><span class="m">8</span> extents<span class="o">)</span>.
</span></span><span class="line"><span class="cl">  File system xfs found on vgfs/xfsvol mounted at /xfsfs2.
</span></span><span class="line"><span class="cl">  Extending file system xfs to 128.00 MiB <span class="o">(</span><span class="m">134217728</span> bytes<span class="o">)</span> on vgfs/xfsvol...
</span></span><span class="line"><span class="cl">xfs_growfs /dev/vgfs/xfsvol
</span></span><span class="line"><span class="cl">meta-data<span class="o">=</span>/dev/mapper/vgfs-xfsvol <span class="nv">isize</span><span class="o">=</span><span class="m">512</span>    <span class="nv">agcount</span><span class="o">=</span>4, <span class="nv">agsize</span><span class="o">=</span><span class="m">5120</span> <span class="nv">blks</span>
</span></span><span class="line"><span class="cl">         <span class="o">=</span>                       <span class="nv">sectsz</span><span class="o">=</span><span class="m">512</span>   <span class="nv">attr</span><span class="o">=</span>2, <span class="nv">projid32bit</span><span class="o">=</span><span class="nv">1</span>
</span></span><span class="line"><span class="cl">         <span class="o">=</span>                       <span class="nv">crc</span><span class="o">=</span><span class="m">1</span>        <span class="nv">finobt</span><span class="o">=</span>1, <span class="nv">sparse</span><span class="o">=</span>1, <span class="nv">rmapbt</span><span class="o">=</span><span class="nv">0</span>
</span></span><span class="line"><span class="cl">         <span class="o">=</span>                       <span class="nv">reflink</span><span class="o">=</span><span class="m">1</span>    <span class="nv">bigtime</span><span class="o">=</span><span class="m">1</span> <span class="nv">inobtcount</span><span class="o">=</span><span class="m">1</span> <span class="nv">nrext64</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl"><span class="nv">data</span>     <span class="o">=</span>                       <span class="nv">bsize</span><span class="o">=</span><span class="m">4096</span>   <span class="nv">blocks</span><span class="o">=</span>20480, <span class="nv">imaxpct</span><span class="o">=</span><span class="nv">25</span>
</span></span><span class="line"><span class="cl">         <span class="o">=</span>                       <span class="nv">sunit</span><span class="o">=</span><span class="m">0</span>      <span class="nv">swidth</span><span class="o">=</span><span class="m">0</span> blks
</span></span><span class="line"><span class="cl"><span class="nv">naming</span>   <span class="o">=</span>version <span class="m">2</span>              <span class="nv">bsize</span><span class="o">=</span><span class="m">4096</span>   ascii-ci<span class="o">=</span>0, <span class="nv">ftype</span><span class="o">=</span><span class="m">1</span>
</span></span><span class="line"><span class="cl"><span class="nv">log</span>      <span class="o">=</span>internal log           <span class="nv">bsize</span><span class="o">=</span><span class="m">4096</span>   <span class="nv">blocks</span><span class="o">=</span>1368, <span class="nv">version</span><span class="o">=</span><span class="nv">2</span>
</span></span><span class="line"><span class="cl">         <span class="o">=</span>                       <span class="nv">sectsz</span><span class="o">=</span><span class="m">512</span>   <span class="nv">sunit</span><span class="o">=</span><span class="m">0</span> blks, lazy-count<span class="o">=</span><span class="m">1</span>
</span></span><span class="line"><span class="cl"><span class="nv">realtime</span> <span class="o">=</span>none                   <span class="nv">extsz</span><span class="o">=</span><span class="m">4096</span>   <span class="nv">blocks</span><span class="o">=</span>0, <span class="nv">rtextents</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">data blocks changed from <span class="m">20480</span> to <span class="m">32768</span>
</span></span><span class="line"><span class="cl">xfs_growfs <span class="k">done</span>
</span></span><span class="line"><span class="cl">  Extended file system xfs on vgfs/xfsvol.
</span></span><span class="line"><span class="cl">  Logical volume vgfs/xfsvol successfully resized.
</span></span></code></pre></div><p>5. Verify the new extensions to both logical volumes using the <code>lvs</code> command. You may also issue the <code>lvdisplay</code> or <code>vgdisplay</code> command instead.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo lvs | grep vol</span>
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VBa5e3cbf7-10921e08 PVID qeP9dCevNnTy422I8p18NxDKQ2WyDodU last seen on /dev/sdf1 not found.
</span></span><span class="line"><span class="cl">  ext4vol vgfs -wi-ao---- 128.00m                                                    
</span></span><span class="line"><span class="cl">  xfsvol  vgfs -wi-ao---- 128.00m   
</span></span></code></pre></div><p>6. Check the new sizes and the current mount status for both file systems using the <code>df</code> and <code>lsblk</code> commands:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># df -hT | grep -E &#39;ext4vol|xfsvol&#39;</span>
</span></span><span class="line"><span class="cl">/dev/mapper/vgfs-xfsvol  xfs       123M  5.4M  118M   5% /xfsfs2
</span></span><span class="line"><span class="cl">/dev/mapper/vgfs-ext4vol ext4      115M   14K  107M   1% /ext4fs2
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># lsblk /dev/sdd /dev/sde</span>
</span></span><span class="line"><span class="cl">NAME             MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTS
</span></span><span class="line"><span class="cl">sdd                8:48   <span class="m">0</span>  250M  <span class="m">0</span> disk 
</span></span><span class="line"><span class="cl">sdd1             8:49   <span class="m">0</span>  163M  <span class="m">0</span> part 
</span></span><span class="line"><span class="cl">  vgfs-ext4vol 253:2    <span class="m">0</span>  128M  <span class="m">0</span> lvm  /ext4fs2
</span></span><span class="line"><span class="cl">  vgfs-xfsvol  253:3    <span class="m">0</span>  128M  <span class="m">0</span> lvm  /xfsfs2
</span></span><span class="line"><span class="cl">sde                8:64   <span class="m">0</span>  250M  <span class="m">0</span> disk 
</span></span><span class="line"><span class="cl">vgfs-ext4vol   253:2    <span class="m">0</span>  128M  <span class="m">0</span> lvm  /ext4fs2
</span></span><span class="line"><span class="cl">vgfs-xfsvol    253:3    <span class="m">0</span>  128M  <span class="m">0</span> lvm  /xfsfs2
</span></span></code></pre></div>
<h2 class="relative group">Lab: Create and Mount XFS File System in LVM VDO Volume
    <div id="lab-create-and-mount-xfs-file-system-in-lvm-vdo-volume" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#lab-create-and-mount-xfs-file-system-in-lvm-vdo-volume" aria-label="Anchor">#</a>
    </span>
    
</h2>
<ul>
<li>Create an LVM VDO volume called <em>lvvdo</em> of virtual size 20GB on the 5GB sdf disk in a volume group called <em>vgvdo1</em>.</li>
<li>Initialize the volume with the XFS file system type.</li>
<li>Define it for persistence using its device files.</li>
<li>Create a mount point called <em>/xfsvdo1</em>, attach it to the directory structure.</li>
<li>verify its availability and usage.\</li>
</ul>
<p>1. Initialize the sdf disk using the <code>pvcreate</code> command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo pvcreate /dev/sdf</span>
</span></span><span class="line"><span class="cl">  WARNING: adding device /dev/sdf with idname t10.ATA_VBOX_HARDDISK_VBa5e3cbf7-10921e08 which is already used <span class="k">for</span> missing device.
</span></span><span class="line"><span class="cl">  Physical volume <span class="s2">&#34;/dev/sdf&#34;</span> successfully created.
</span></span></code></pre></div><p>2. Create vgvdo1 volume group using the <code>vgcreate</code> command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo vgcreate vgvdo1 /dev/sdf</span>
</span></span><span class="line"><span class="cl">  WARNING: adding device /dev/sdf with idname t10.ATA_VBOX_HARDDISK_VBa5e3cbf7-10921e08 which is already used <span class="k">for</span> missing device.
</span></span><span class="line"><span class="cl">  Volume group <span class="s2">&#34;vgvdo1&#34;</span> successfully created
</span></span></code></pre></div><p>3. Display basic information about the volume group:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">root@server2 ~<span class="o">]</span><span class="c1"># sudo vgdisplay vgvdo1</span>
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VBa5e3cbf7-10921e08 PVID qeP9dCevNnTy422I8p18NxDKQ2WyDodU last seen on /dev/sdf1 not found.
</span></span><span class="line"><span class="cl">  --- Volume group ---
</span></span><span class="line"><span class="cl">  VG Name               vgvdo1
</span></span><span class="line"><span class="cl">  System ID             
</span></span><span class="line"><span class="cl">  Format                lvm2
</span></span><span class="line"><span class="cl">  Metadata Areas        <span class="m">1</span>
</span></span><span class="line"><span class="cl">  Metadata Sequence No  <span class="m">1</span>
</span></span><span class="line"><span class="cl">  VG Access             read/write
</span></span><span class="line"><span class="cl">  VG Status             resizable
</span></span><span class="line"><span class="cl">  MAX LV                <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Cur LV                <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Open LV               <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Max PV                <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Cur PV                <span class="m">1</span>
</span></span><span class="line"><span class="cl">  Act PV                <span class="m">1</span>
</span></span><span class="line"><span class="cl">  VG Size               &lt;5.00 GiB
</span></span><span class="line"><span class="cl">  PE Size               4.00 MiB
</span></span><span class="line"><span class="cl">  Total PE              <span class="m">1279</span>
</span></span><span class="line"><span class="cl">  Alloc PE / Size       <span class="m">0</span> / <span class="m">0</span>   
</span></span><span class="line"><span class="cl">  Free  PE / Size       <span class="m">1279</span> / &lt;5.00 GiB
</span></span><span class="line"><span class="cl">  VG UUID               b9u8Ng-m3BF-Jz2b-sBu8-gEG1-bBGQ-sBgrt0
</span></span></code></pre></div><p>4. Create a VDO volume called lvvdo1 using the <code>lvcreate</code> command. Use the <code>-l</code> option to specify the number of logical extents (1279) to be allocated and the <code>-V</code> option for the amount of virtual space (20GB).</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo lvcreate -n lvvdo -l 1279 -V 20G --type vdo vgvdo1</span>
</span></span><span class="line"><span class="cl">WARNING: vdo signature detected on /dev/vgvdo1/vpool0 at offset 0. Wipe it? <span class="o">[</span>y/n<span class="o">]</span>: y
</span></span><span class="line"><span class="cl">  Wiping vdo signature on /dev/vgvdo1/vpool0.
</span></span><span class="line"><span class="cl">    The VDO volume can address <span class="m">2</span> GB in <span class="m">1</span> data slab.
</span></span><span class="line"><span class="cl">    It can grow to address at most <span class="m">16</span> TB of physical storage in <span class="m">8192</span> slabs.
</span></span><span class="line"><span class="cl">    If a larger maximum size might be needed, use bigger slabs.
</span></span><span class="line"><span class="cl">  Logical volume <span class="s2">&#34;lvvdo&#34;</span> created.
</span></span></code></pre></div><p>5. Display detailed information about the volume group including the logical volume and the physical volume:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo vgdisplay -v vgvdo1</span>
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VBa5e3cbf7-10921e08 PVID qeP9dCevNnTy422I8p18NxDKQ2WyDodU last seen on /dev/sdf1 not found.
</span></span><span class="line"><span class="cl">  --- Volume group ---
</span></span><span class="line"><span class="cl">  VG Name               vgvdo1
</span></span><span class="line"><span class="cl">  System ID             
</span></span><span class="line"><span class="cl">  Format                lvm2
</span></span><span class="line"><span class="cl">  Metadata Areas        <span class="m">1</span>
</span></span><span class="line"><span class="cl">  Metadata Sequence No  <span class="m">3</span>
</span></span><span class="line"><span class="cl">  VG Access             read/write
</span></span><span class="line"><span class="cl">  VG Status             resizable
</span></span><span class="line"><span class="cl">  MAX LV                <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Cur LV                <span class="m">2</span>
</span></span><span class="line"><span class="cl">  Open LV               <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Max PV                <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Cur PV                <span class="m">1</span>
</span></span><span class="line"><span class="cl">  Act PV                <span class="m">1</span>
</span></span><span class="line"><span class="cl">  VG Size               &lt;5.00 GiB
</span></span><span class="line"><span class="cl">  PE Size               4.00 MiB
</span></span><span class="line"><span class="cl">  Total PE              <span class="m">1279</span>
</span></span><span class="line"><span class="cl">  Alloc PE / Size       <span class="m">1279</span> / &lt;5.00 GiB
</span></span><span class="line"><span class="cl">  Free  PE / Size       <span class="m">0</span> / <span class="m">0</span>   
</span></span><span class="line"><span class="cl">  VG UUID               b9u8Ng-m3BF-Jz2b-sBu8-gEG1-bBGQ-sBgrt0
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl">  --- Logical volume ---
</span></span><span class="line"><span class="cl">  LV Path                /dev/vgvdo1/vpool0
</span></span><span class="line"><span class="cl">  LV Name                vpool0
</span></span><span class="line"><span class="cl">  VG Name                vgvdo1
</span></span><span class="line"><span class="cl">  LV UUID                nTPKtv-3yTW-J7Cy-HVP1-Aujs-cXZ6-gdS2fI
</span></span><span class="line"><span class="cl">  LV Write Access        read/write
</span></span><span class="line"><span class="cl">  LV Creation host, <span class="nb">time</span> server2, 2024-07-01 12:57:56 -0700
</span></span><span class="line"><span class="cl">  LV VDO Pool data       vpool0_vdata
</span></span><span class="line"><span class="cl">  LV VDO Pool usage      60.00%
</span></span><span class="line"><span class="cl">  LV VDO Pool saving     100.00%
</span></span><span class="line"><span class="cl">  LV VDO Operating mode  normal
</span></span><span class="line"><span class="cl">  LV VDO Index state     online
</span></span><span class="line"><span class="cl">  LV VDO Compression st  online
</span></span><span class="line"><span class="cl">  LV VDO Used size       &lt;3.00 GiB
</span></span><span class="line"><span class="cl">  LV Status              NOT available
</span></span><span class="line"><span class="cl">  LV Size                &lt;5.00 GiB
</span></span><span class="line"><span class="cl">  Current LE             <span class="m">1279</span>
</span></span><span class="line"><span class="cl">  Segments               <span class="m">1</span>
</span></span><span class="line"><span class="cl">  Allocation             inherit
</span></span><span class="line"><span class="cl">  Read ahead sectors     auto
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl">  --- Logical volume ---
</span></span><span class="line"><span class="cl">  LV Path                /dev/vgvdo1/lvvdo
</span></span><span class="line"><span class="cl">  LV Name                lvvdo
</span></span><span class="line"><span class="cl">  VG Name                vgvdo1
</span></span><span class="line"><span class="cl">  LV UUID                Z09BdK-ETJk-Gi53-m8Cg-mnTd-RYug-Z9nV0L
</span></span><span class="line"><span class="cl">  LV Write Access        read/write
</span></span><span class="line"><span class="cl">  LV Creation host, <span class="nb">time</span> server2, 2024-07-01 12:58:02 -0700
</span></span><span class="line"><span class="cl">  LV VDO Pool name       vpool0
</span></span><span class="line"><span class="cl">  LV Status              available
</span></span><span class="line"><span class="cl">  <span class="c1"># open                 0</span>
</span></span><span class="line"><span class="cl">  LV Size                20.00 GiB
</span></span><span class="line"><span class="cl">  Current LE             <span class="m">5120</span>
</span></span><span class="line"><span class="cl">  Segments               <span class="m">1</span>
</span></span><span class="line"><span class="cl">  Allocation             inherit
</span></span><span class="line"><span class="cl">  Read ahead sectors     auto
</span></span><span class="line"><span class="cl">  - currently <span class="nb">set</span> to     <span class="m">8192</span>
</span></span><span class="line"><span class="cl">  Block device           253:6
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl">  --- Physical volumes ---
</span></span><span class="line"><span class="cl">  PV Name               /dev/sdf     
</span></span><span class="line"><span class="cl">  PV UUID               WKc956-Xp66-L8v9-VA6S-KWM5-5e3X-kx1v0V
</span></span><span class="line"><span class="cl">  PV Status             allocatable
</span></span><span class="line"><span class="cl">  Total PE / Free PE    <span class="m">1279</span> / <span class="m">0</span>
</span></span></code></pre></div><p>6. Display the new VDO volume creation using the lsblk command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo lsblk /dev/sdf</span>
</span></span><span class="line"><span class="cl">NAME                    MAJ:MIN RM SIZE RO TYPE MOUNTPOINTS
</span></span><span class="line"><span class="cl">sdf                       8:80   <span class="m">0</span>   5G  <span class="m">0</span> disk 
</span></span><span class="line"><span class="cl">vgvdo1-vpool0_vdata   253:4    <span class="m">0</span>   5G  <span class="m">0</span> lvm  
</span></span><span class="line"><span class="cl">  vgvdo1-vpool0-vpool 253:5    <span class="m">0</span>  20G  <span class="m">0</span> lvm  
</span></span><span class="line"><span class="cl">    vgvdo1-lvvdo      253:6    <span class="m">0</span>  20G  <span class="m">0</span> lvm  
</span></span></code></pre></div><p>The output shows the virtual volume size (20GB) and the underlying disk size (5GB).</p>
<p>7. Initialize the VDO volume with the XFS file system type using the <code>mkfs.xfs</code> command. The VDO volume device file is
/dev/mapper/vgvdo1-lvvdo as indicated in the above output. Add the <code>-f</code> flag to force the removal of any old partitioning or labeling information from the disk.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 mapper<span class="o">]</span><span class="c1"># sudo mkfs.xfs /dev/mapper/vgvdo1-lvvdo</span>
</span></span><span class="line"><span class="cl">meta-data<span class="o">=</span>/dev/mapper/vgvdo1-lvvdo <span class="nv">isize</span><span class="o">=</span><span class="m">512</span>    <span class="nv">agcount</span><span class="o">=</span>4, <span class="nv">agsize</span><span class="o">=</span><span class="m">1310720</span> <span class="nv">blks</span>
</span></span><span class="line"><span class="cl">         <span class="o">=</span>                       <span class="nv">sectsz</span><span class="o">=</span><span class="m">4096</span>  <span class="nv">attr</span><span class="o">=</span>2, <span class="nv">projid32bit</span><span class="o">=</span><span class="nv">1</span>
</span></span><span class="line"><span class="cl">         <span class="o">=</span>                       <span class="nv">crc</span><span class="o">=</span><span class="m">1</span>        <span class="nv">finobt</span><span class="o">=</span>1, <span class="nv">sparse</span><span class="o">=</span>1, <span class="nv">rmapbt</span><span class="o">=</span><span class="nv">0</span>
</span></span><span class="line"><span class="cl">         <span class="o">=</span>                       <span class="nv">reflink</span><span class="o">=</span><span class="m">1</span>    <span class="nv">bigtime</span><span class="o">=</span><span class="m">1</span> <span class="nv">inobtcount</span><span class="o">=</span><span class="m">1</span> <span class="nv">nrext64</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl"><span class="nv">data</span>     <span class="o">=</span>                       <span class="nv">bsize</span><span class="o">=</span><span class="m">4096</span>   <span class="nv">blocks</span><span class="o">=</span>5242880, <span class="nv">imaxpct</span><span class="o">=</span><span class="nv">25</span>
</span></span><span class="line"><span class="cl">         <span class="o">=</span>                       <span class="nv">sunit</span><span class="o">=</span><span class="m">0</span>      <span class="nv">swidth</span><span class="o">=</span><span class="m">0</span> blks
</span></span><span class="line"><span class="cl"><span class="nv">naming</span>   <span class="o">=</span>version <span class="m">2</span>              <span class="nv">bsize</span><span class="o">=</span><span class="m">4096</span>   ascii-ci<span class="o">=</span>0, <span class="nv">ftype</span><span class="o">=</span><span class="m">1</span>
</span></span><span class="line"><span class="cl"><span class="nv">log</span>      <span class="o">=</span>internal log           <span class="nv">bsize</span><span class="o">=</span><span class="m">4096</span>   <span class="nv">blocks</span><span class="o">=</span>16384, <span class="nv">version</span><span class="o">=</span><span class="nv">2</span>
</span></span><span class="line"><span class="cl">         <span class="o">=</span>                       <span class="nv">sectsz</span><span class="o">=</span><span class="m">4096</span>  <span class="nv">sunit</span><span class="o">=</span><span class="m">1</span> blks, lazy-count<span class="o">=</span><span class="m">1</span>
</span></span><span class="line"><span class="cl"><span class="nv">realtime</span> <span class="o">=</span>none                   <span class="nv">extsz</span><span class="o">=</span><span class="m">4096</span>   <span class="nv">blocks</span><span class="o">=</span>0, <span class="nv">rtextents</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">Discarding blocks...Done.
</span></span></code></pre></div><p>(lab said vgvdo1-lvvdo1 but it didn&rsquo;t exist for me.)</p>
<p>8. Open the /etc/fstab file, go to the end of the file, and append the following entry for the file system for persistent mounts using its device file:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">/dev/mapper/vgvdo1-lvvdo /xfsvdo1 xfs defaults <span class="m">0</span> <span class="m">0</span> 
</span></span></code></pre></div><p>9. Create the mount point /xfsvdo1 using the mkdir command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 mapper<span class="o">]</span><span class="c1"># sudo mkdir /xfsvdo1</span>
</span></span></code></pre></div><p>10. Mount the new file system using the mount command. This command will fail if there are any invalid or missing information in the file.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 mapper<span class="o">]</span><span class="c1"># sudo mount -a</span>
</span></span><span class="line"><span class="cl">mount: <span class="o">(</span>hint<span class="o">)</span> your fstab has been modified, but systemd still uses
</span></span><span class="line"><span class="cl">       the old version<span class="p">;</span> use <span class="s1">&#39;systemctl daemon-reload&#39;</span> to reload.
</span></span></code></pre></div><p>The mount command with the <code>-a</code> flag is a validation test for the fstab file. It should always be executed after updating this file and before rebooting the server to avoid landing the system in an unbootable state.</p>
<p>11. View the mount and availability status as well as the type of the VDO file system using the <code>lsblk</code> and <code>df</code> commands:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 mapper<span class="o">]</span><span class="c1"># lsblk /dev/sdf</span>
</span></span><span class="line"><span class="cl">NAME                    MAJ:MIN RM SIZE RO TYPE MOUNTPOINTS
</span></span><span class="line"><span class="cl">sdf                       8:80   <span class="m">0</span>   5G  <span class="m">0</span> disk 
</span></span><span class="line"><span class="cl">vgvdo1-vpool0_vdata   253:4    <span class="m">0</span>   5G  <span class="m">0</span> lvm  
</span></span><span class="line"><span class="cl">  vgvdo1-vpool0-vpool 253:5    <span class="m">0</span>  20G  <span class="m">0</span> lvm  
</span></span><span class="line"><span class="cl">    vgvdo1-lvvdo      253:6    <span class="m">0</span>  20G  <span class="m">0</span> lvm  /xfsvdo1
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 mapper<span class="o">]</span><span class="c1"># df -hT /xfsvdo1</span>
</span></span><span class="line"><span class="cl">Filesystem               Type  Size  Used Avail Use% Mounted on
</span></span><span class="line"><span class="cl">/dev/mapper/vgvdo1-lvvdo xfs    20G  175M   20G   1% /xfsvdo1
</span></span></code></pre></div>
<h2 class="relative group">Monitoring File System Usage
    <div id="monitoring-file-system-usage" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#monitoring-file-system-usage" aria-label="Anchor">#</a>
    </span>
    
</h2>

<h3 class="relative group">df (disk free) command
    <div id="df-disk-free-command" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#df-disk-free-command" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ul>
<li>reports usage details for mounted file systems.</li>
<li>reports the numbers in KBs unless the -m or -h option is specified to view the sizes in MBs or human-readable format.</li>
</ul>
<p>Let&rsquo;s run this command with the -h option on server2:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># df -h</span>
</span></span><span class="line"><span class="cl">Filesystem             Size  Used Avail Use% Mounted on
</span></span><span class="line"><span class="cl">devtmpfs               4.0M     <span class="m">0</span>  4.0M   0% /dev
</span></span><span class="line"><span class="cl">tmpfs                  888M     <span class="m">0</span>  888M   0% /dev/shm
</span></span><span class="line"><span class="cl">tmpfs                  356M  5.1M  351M   2% /run
</span></span><span class="line"><span class="cl">/dev/mapper/rhel-root   17G  2.0G   15G  12% /
</span></span><span class="line"><span class="cl">tmpfs                  178M     <span class="m">0</span>  178M   0% /run/user/0
</span></span><span class="line"><span class="cl">/dev/sda1              960M  344M  617M  36% /boot
</span></span></code></pre></div><p>Column 1:</p>
<ul>
<li>file system device file or type</li>
</ul>
<p>Columns 2, 3, 4, 5, 6</p>
<ul>
<li>total, used, and available spaces in and the usage percentage and mount point</li>
</ul>
<p>Useful flags</p>
<p><code>-T </code></p>
<ul>
<li>Add the file system type to the output (example: df -hT)</li>
</ul>
<p><code>-x</code></p>
<ul>
<li>Exclude the specified file system type from the output (example: df -hx tmpfs)</li>
</ul>
<p><code>-t </code></p>
<ul>
<li>Limit the output to a specific file system type (example: df -t xfs)</li>
</ul>
<p><code>-i</code></p>
<ul>
<li>show inode information (example: df -hi)</li>
</ul>

<h3 class="relative group">Calculating Disk Usage
    <div id="calculating-disk-usage" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#calculating-disk-usage" aria-label="Anchor">#</a>
    </span>
    
</h3>

<h3 class="relative group">du command
    <div id="du-command" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#du-command" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ul>
<li>reports the amount of space a file or directory occupies.</li>
<li>-m or -h option to view the output in MBs or human-readable format. In addition, you can</li>
<li>view a usage summary with the -s switch and a grand total with -c.</li>
</ul>
<p>Run this command on the /usr/bin directory to view the usage summary:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># du -sh /usr/bin</span>
</span></span><span class="line"><span class="cl">151M	/usr/bin
</span></span></code></pre></div><p>Add a &ldquo;total&rdquo; row to the output and with numbers displayed in KBs:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># du -sc /usr/bin</span>
</span></span><span class="line"><span class="cl">154444	/usr/bin
</span></span><span class="line"><span class="cl">154444	total
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># du -sch /usr/bin</span>
</span></span><span class="line"><span class="cl">151M	/usr/bin
</span></span><span class="line"><span class="cl">151M	total
</span></span></code></pre></div><p>Try this command with different options on the /usr/sbin/lvm file and observe the results.</p>

<h2 class="relative group">Swap and its Management
    <div id="swap-and-its-management" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#swap-and-its-management" aria-label="Anchor">#</a>
    </span>
    
</h2>
<ul>
<li>
<p>Move pages of idle data between physical memory and swap.</p>
</li>
<li>
<p>Swap areas act as extensions to the physical memory.</p>
</li>
<li>
<p>May be activated or deactivated independent of swap spaces located in other partitions and volumes.</p>
</li>
<li>
<p>The system splits the physical memory into small logical chunks called pages and maps their physical locations to virtual locations on the swap to facilitate access by system processors.</p>
</li>
<li>
<p>This physical-to-virtual mapping of pages is stored in a data structure called page table, and it is maintained by the kernel.</p>
</li>
<li>
<p>When a program or process is spawned, it requires space in the physical memory to run and be processed.</p>
</li>
<li>
<p>Although many programs can run concurrently, the physical memory cannot hold all of them at once.</p>
</li>
<li>
<p>The kernel monitors the memory usage.</p>
</li>
<li>
<p>As long as the free memory remains above a high threshold, nothing happens.</p>
</li>
<li>
<p>When the free memory falls below that threshold, the system starts moving selected idle pages of data from physical memory to the swap space to make room to accommodate other programs.</p>
</li>
<li>
<p>This piece in the process is referred to as <strong>page out</strong>.</p>
</li>
<li>
<p>Since the system CPU performs the process execution in around-robin fashion, when the system needs this paged-out data for execution, the CPU looks for that data in the physical memory and a <strong>pagefault</strong> occurs, resulting in moving the pages back to the physical memory from the swap.</p>
</li>
<li>
<p>This return of data to the physical memory is referred to as <strong>page in</strong>.</p>
</li>
<li>
<p>The entire process of paging data out and in is known as <strong>demand paging</strong>.</p>
</li>
<li>
<p>RHEL systems with less physical memory but high memory requirements can become over busy with paging out and in.</p>
</li>
<li>
<p>When this happens, they do not have enough cycles to carry out other useful tasks, resulting in degraded system performance.</p>
</li>
<li>
<p>The excessive amount of paging that affects the system performance is called <strong>thrashing</strong>.</p>
</li>
<li>
<p>When thrashing begins, or when the free physical memory falls below a low threshold, the system deactivates idle processes and prevents new processes from being launched.</p>
</li>
<li>
<p>The idle processes are only reactivated, and new processes are only allowed to be started when the system discovers that the available physical memory has climbed above the threshold level and thrashing has ceased.</p>
</li>
</ul>

<h3 class="relative group">Determining Current Swap Usage
    <div id="determining-current-swap-usage" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#determining-current-swap-usage" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ul>
<li>Size of a swap area should not be less than the amount of physical memory.</li>
<li>Depending on workload requirements, it may be twice the size or larger.</li>
<li>It is also not uncommon to see systems with less swap than the actual amount of physical memory.</li>
<li>This is especially witnessed on systems with a huge physical memory size.</li>
</ul>

<h3 class="relative group"><code>free</code> command
    <div id="free-command" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#free-command" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ul>
<li>View memory and swap space utilization.</li>
<li>view how much physical memory is installed (total), used (used), available (free), used by shared library routines (shared), holding data before it is written to disk (buffers), and used to store frequently accessed data (cached) on the system. The</li>
<li><code>-h</code>
<ul>
<li>list the values in human-readable format,</li>
</ul>
</li>
<li><code>-k</code>
<ul>
<li>for KB,</li>
</ul>
</li>
<li><code>-m</code>
<ul>
<li>for MB,</li>
</ul>
</li>
<li><code>-g</code>
<ul>
<li>for GB,</li>
</ul>
</li>
<li><code>-t</code>
<ul>
<li>display a line with the &ldquo;total&rdquo; at the bottom of the output.</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 mapper<span class="o">]</span><span class="c1"># free -ht</span>
</span></span><span class="line"><span class="cl">               total        used        free      shared  buff/cache   available
</span></span><span class="line"><span class="cl">Mem:           1.7Gi       783Mi       714Mi       5.0Mi       440Mi       991Mi
</span></span><span class="line"><span class="cl">Swap:          2.0Gi          0B       2.0Gi
</span></span><span class="line"><span class="cl">Total:         3.7Gi       783Mi       2.7Gi
</span></span></code></pre></div><p>Try <code>free -hts 3</code> and <code>free -htc 2</code> to refresh the output every three seconds (-s) and to display the output twice (-c).</p>
<ul>
<li>Reads memory and swap information from the <em>/proc/meminfo</em> file to produce the report. The values are shown in KBs by
default, and they are slightly off from what is shown above with <code>free</code>. Here are the relevant fields from this file:</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 mapper<span class="o">]</span><span class="c1"># cat /proc/meminfo | grep -E &#39;Mem|Swap&#39;</span>
</span></span><span class="line"><span class="cl">MemTotal:        <span class="m">1818080</span> kB
</span></span><span class="line"><span class="cl">MemFree:          <span class="m">731724</span> kB
</span></span><span class="line"><span class="cl">MemAvailable:    <span class="m">1015336</span> kB
</span></span><span class="line"><span class="cl">SwapCached:            <span class="m">0</span> kB
</span></span><span class="line"><span class="cl">SwapTotal:       <span class="m">2097148</span> kB
</span></span><span class="line"><span class="cl">SwapFree:        <span class="m">2097148</span> kB
</span></span></code></pre></div>
<h3 class="relative group">Prioritizing Swap Spaces
    <div id="prioritizing-swap-spaces" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#prioritizing-swap-spaces" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ul>
<li>You may find multiple swap areas configured and activated to meet the workload demand.</li>
<li>The default behavior of RHEL is to use the first activated swap area and move on to the next when the first one is exhausted.</li>
<li>The system allows us to prioritize one area over the other by adding the option &ldquo;pri&rdquo; to the swap entries in the fstab file.</li>
<li>This flag supports a value between -2 and 32767 with -2 being the default.</li>
<li>A higher value of &ldquo;pri&rdquo; sets a higher priority for the corresponding swap region.</li>
<li>For swap areas with an identical priority, the system alternates between them.</li>
</ul>

<h3 class="relative group">Swap Administration Commands
    <div id="swap-administration-commands" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#swap-administration-commands" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ul>
<li>In order to create and manage swap spaces on the system, the <code>mkswap</code>, <code>swapon</code>, and <code>swapoff</code> commands are available.</li>
<li>Use <code>mkswap</code> to initialize a partition for use as a swap space.</li>
<li>Once the swap area is ready, you can activate or deactivate it from the command line with the help of the other two commands,</li>
<li>Can also set it up for automatic activation by placing an entry in the fstab file.</li>
<li>The fstab file accepts the swap area&rsquo;s device file, UUID, or label.</li>
</ul>

<h3 class="relative group">Lab: Create and Activate Swap in Partition and Logical Volume (server 2)
    <div id="lab-create-and-activate-swap-in-partition-and-logical-volume-server-2" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#lab-create-and-activate-swap-in-partition-and-logical-volume-server-2" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ul>
<li>Create one swap area in a new 40MB partition called <em>sdb3</em> using the <code>mkswap</code> command.</li>
<li>Create another swap area in a 140MB logical volume called swapvol in vgfs.</li>
<li>Add their entries to the /etc/fstab file for persistence.</li>
<li>Use the UUID and priority 1 for the partition swap and the device file and priority 2 for the logical volume swap.</li>
<li>Activate them and use appropriate tools to validate the activation.</li>
</ul>
<p>EXAM TIP: Use the <code>lsblk</code> command to determine available disk space.</p>
<p>1. Use <code>parted print</code> on the sdb disk and the <code>vgs</code> command on the vgfs volume group to determine available space for a new 40MB partition and a 144MB logical volume:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 mapper<span class="o">]</span><span class="c1"># sudo parted /dev/sdb print</span>
</span></span><span class="line"><span class="cl">Model: ATA VBOX HARDDISK <span class="o">(</span>scsi<span class="o">)</span>
</span></span><span class="line"><span class="cl">Disk /dev/sdb: 262MB
</span></span><span class="line"><span class="cl">Sector size <span class="o">(</span>logical/physical<span class="o">)</span>: 512B/512B
</span></span><span class="line"><span class="cl">Partition Table: msdos
</span></span><span class="line"><span class="cl">Disk Flags: 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Number  Start   End    Size    Type     File system  Flags
</span></span><span class="line"><span class="cl"> <span class="m">1</span>      1049kB  101MB  99.6MB  primary  ext4
</span></span><span class="line"><span class="cl"> <span class="m">2</span>      102MB   201MB  99.6MB  primary  fat16
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 mapper<span class="o">]</span><span class="c1"># sudo vgs vgfs</span>
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VBa5e3cbf7-10921e08 PVID qeP9dCevNnTy422I8p18NxDKQ2WyDodU last seen on /dev/sdf1 not found.
</span></span><span class="line"><span class="cl">  VG   <span class="c1">#PV #LV #SN Attr   VSize   VFree  </span>
</span></span><span class="line"><span class="cl">  vgfs   <span class="m">2</span>   <span class="m">2</span>   <span class="m">0</span> wz--n- 400.00m 144.00m
</span></span></code></pre></div><p>The outputs show 49MB (250MB minus 201MB) free space on the sdb disk and 144MB free space in the volume group.</p>
<p>2. Create a partition called sdb3 of size 40MB using the parted command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 mapper<span class="o">]</span><span class="c1"># sudo parted /dev/sdb mkpart primary 202 242</span>
</span></span><span class="line"><span class="cl">Information: You may need to update /etc/fstab.
</span></span></code></pre></div><p>3. Create logical volume swapvol of size 144MB in vgs using the <code>lvcreate</code> command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 mapper<span class="o">]</span><span class="c1"># sudo lvcreate -L 144 -n swapvol vgfs               </span>
</span></span><span class="line"><span class="cl">  Logical volume <span class="s2">&#34;swapvol&#34;</span> created.
</span></span></code></pre></div><p>4. Construct swap structures in sdb3 and swapvol using the mkswap command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 mapper<span class="o">]</span><span class="c1"># sudo mkswap /dev/sdb3</span>
</span></span><span class="line"><span class="cl">Setting up swapspace version 1, <span class="nv">size</span> <span class="o">=</span> <span class="m">38</span> MiB <span class="o">(</span><span class="m">39841792</span> bytes<span class="o">)</span>
</span></span><span class="line"><span class="cl">no label, <span class="nv">UUID</span><span class="o">=</span>a796e0df-b1c3-4c30-bdde-dd522bba4fff
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 mapper<span class="o">]</span><span class="c1"># sudo mkswap /dev/vgfs/swapvol</span>
</span></span><span class="line"><span class="cl">Setting up swapspace version 1, <span class="nv">size</span> <span class="o">=</span> <span class="m">144</span> MiB <span class="o">(</span><span class="m">150990848</span> bytes<span class="o">)</span>
</span></span><span class="line"><span class="cl">no label, <span class="nv">UUID</span><span class="o">=</span>88196e73-feaf-4137-8743-f9340296aeec
</span></span></code></pre></div><p>5. Edit the fstab file and add entries for both swap areas for auto-activation on reboots. Obtain the UUID for partition swap with
<code>lsblk -f /dev/sdb3</code> and use the device file for logical volume. Specify their priorities.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nv">UUID</span><span class="o">=</span>a796e0df-b1c3-4c30-bdde-dd522bba4fff swap swap <span class="nv">pri</span><span class="o">=</span><span class="m">1</span> <span class="m">0</span> <span class="m">0</span>
</span></span><span class="line"><span class="cl">/dev/vgfs/swapvol swap swap <span class="nv">pri</span><span class="o">=</span><span class="m">2</span> <span class="m">0</span> <span class="m">0</span>   
</span></span></code></pre></div><p>EXAM TIP: You will not be given any credit for this work if you forget to add entries to the fstab file.</p>
<p>6. Determine the current amount of swap space on the system using the swapon command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2<span class="o">]</span><span class="c1"># sudo swapon</span>
</span></span><span class="line"><span class="cl">NAME      TYPE      SIZE USED PRIO
</span></span><span class="line"><span class="cl">/dev/dm-1 partition   2G   0B   -2
</span></span></code></pre></div><p>There is one 2GB swap area on the system and it is configured at the default priority of -2.</p>
<p>7. Activate the new swap regions using the swapon command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2<span class="o">]</span><span class="c1"># sudo swapon -a</span>
</span></span></code></pre></div><p>8. Confirm the activation using the swapon command or by viewing the /proc/swaps file:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 mapper<span class="o">]</span><span class="c1"># sudo swapon</span>
</span></span><span class="line"><span class="cl">NAME      TYPE      SIZE USED PRIO
</span></span><span class="line"><span class="cl">/dev/dm-1 partition   2G   0B   -2
</span></span><span class="line"><span class="cl">/dev/sdb3 partition  38M   0B    <span class="m">1</span>
</span></span><span class="line"><span class="cl">/dev/dm-7 partition 144M   0B    <span class="m">2</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 mapper<span class="o">]</span><span class="c1"># cat /proc/swaps</span>
</span></span><span class="line"><span class="cl">Filename				Type		Size		Used		Priority
</span></span><span class="line"><span class="cl">/dev/dm-1                               partition	2097148		0		-2
</span></span><span class="line"><span class="cl">/dev/sdb3                               partition	38908		0		<span class="m">1</span>
</span></span><span class="line"><span class="cl">/dev/dm-7                               partition	147452		0		<span class="m">2</span>
</span></span><span class="line"><span class="cl"><span class="c1">#dm is device mapper</span>
</span></span></code></pre></div><p>9. Issue the free command to view the reflection of swap numbers on the Swap and Total lines:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 mapper<span class="o">]</span><span class="c1"># free -ht</span>
</span></span><span class="line"><span class="cl">               total        used        free      shared  buff/cache   available
</span></span><span class="line"><span class="cl">Mem:           1.7Gi       793Mi       706Mi       5.0Mi       438Mi       981Mi
</span></span><span class="line"><span class="cl">Swap:          2.2Gi          0B       2.2Gi
</span></span><span class="line"><span class="cl">Total:         3.9Gi       793Mi       2.9Gi
</span></span></code></pre></div>
<h2 class="relative group">Local Filesystems and Swap DIY Labs
    <div id="local-filesystems-and-swap-diy-labs" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#local-filesystems-and-swap-diy-labs" aria-label="Anchor">#</a>
    </span>
    
</h2>

<h3 class="relative group">Lab: Create VFAT, Ext4, and XFS File Systems in Partitions and Mount Persistently
    <div id="lab-create-vfat-ext4-and-xfs-file-systems-in-partitions-and-mount-persistently" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#lab-create-vfat-ext4-and-xfs-file-systems-in-partitions-and-mount-persistently" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ul>
<li>Create three 70MB primary partitions on one of the available 250MB disks (lsblk) by invoking the parted utility directly at the command prompt.</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 mapper<span class="o">]</span><span class="c1"># parted /dev/sdc mklabel msdos</span>
</span></span><span class="line"><span class="cl">Information: You may need to update /etc/fstab.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 mapper<span class="o">]</span><span class="c1"># parted /dev/sdc mkpart primary 1 70m</span>
</span></span><span class="line"><span class="cl">Information: You may need to update /etc/fstab.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">root@server2 mapper<span class="o">]</span><span class="c1"># parted /dev/sdb print</span>
</span></span><span class="line"><span class="cl">Model: ATA VBOX HARDDISK <span class="o">(</span>scsi<span class="o">)</span>
</span></span><span class="line"><span class="cl">Disk /dev/sdb: 262MB
</span></span><span class="line"><span class="cl">Sector size <span class="o">(</span>logical/physical<span class="o">)</span>: 512B/512B
</span></span><span class="line"><span class="cl">Partition Table: msdos
</span></span><span class="line"><span class="cl">Disk Flags: 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Number  Start   End     Size    Type     File system  Flags
</span></span><span class="line"><span class="cl"> <span class="m">1</span>      1049kB  70.3MB  69.2MB  primary
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">parted<span class="o">)</span> mkpart primary 71MB 140MB                                    
</span></span><span class="line"><span class="cl">Warning: The resulting partition is not properly aligned <span class="k">for</span> best performance: 138671s % 2048s !<span class="o">=</span> 0s
</span></span><span class="line"><span class="cl">Ignore/Cancel?                                                            
</span></span><span class="line"><span class="cl">Ignore/Cancel? ignore                                                     
</span></span><span class="line"><span class="cl"><span class="o">(</span>parted<span class="o">)</span> mkpart primary 140MB 210MB
</span></span><span class="line"><span class="cl">Warning: The resulting partition is not properly aligned <span class="k">for</span> best performance: 273438s % 2048s !<span class="o">=</span> 0s
</span></span><span class="line"><span class="cl">Ignore/Cancel? ignore                                                     
</span></span><span class="line"><span class="cl"><span class="o">(</span>parted<span class="o">)</span> print                                                            
</span></span><span class="line"><span class="cl">Model: ATA VBOX HARDDISK <span class="o">(</span>scsi<span class="o">)</span>
</span></span><span class="line"><span class="cl">Disk /dev/sdb: 262MB
</span></span><span class="line"><span class="cl">Sector size <span class="o">(</span>logical/physical<span class="o">)</span>: 512B/512B
</span></span><span class="line"><span class="cl">Partition Table: msdos
</span></span><span class="line"><span class="cl">Disk Flags: 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Number  Start   End     Size    Type     File system  Flags
</span></span><span class="line"><span class="cl"> <span class="m">1</span>      1049kB  70.3MB  69.2MB  primary
</span></span><span class="line"><span class="cl"> <span class="m">2</span>      71.0MB  140MB   69.0MB  primary
</span></span><span class="line"><span class="cl"> <span class="m">3</span>      140MB   210MB   70.0MB  primary
</span></span></code></pre></div><ul>
<li>Apply label &ldquo;msdos&rdquo; if the disk is new.</li>
<li>Initialize partition 1 with VFAT, partition 2 with Ext4, and partition 3 with XFS file system types.</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 mapper<span class="o">]</span><span class="c1"># sudo mkfs -t vfat /dev/sdc1</span>
</span></span><span class="line"><span class="cl">mkfs.fat 4.2 <span class="o">(</span>2021-01-31<span class="o">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 mapper<span class="o">]</span><span class="c1"># sudo mkfs -t ext4 /dev/sdc2</span>
</span></span><span class="line"><span class="cl">mke2fs 1.46.5 <span class="o">(</span>30-Dec-2021<span class="o">)</span>
</span></span><span class="line"><span class="cl">Creating filesystem with <span class="m">67380</span> 1k blocks and <span class="m">16848</span> inodes
</span></span><span class="line"><span class="cl">Filesystem UUID: 43b590ff-3330-4b88-aef9-c3a97d8cf51e
</span></span><span class="line"><span class="cl">Superblock backups stored on blocks: 
</span></span><span class="line"><span class="cl">	8193, 24577, 40961, <span class="m">57345</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Allocating group tables: <span class="k">done</span>                            
</span></span><span class="line"><span class="cl">Writing inode tables: <span class="k">done</span>                            
</span></span><span class="line"><span class="cl">Creating journal <span class="o">(</span><span class="m">4096</span> blocks<span class="o">)</span>: <span class="k">done</span>
</span></span><span class="line"><span class="cl">Writing superblocks and filesystem accounting information: <span class="k">done</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 mapper<span class="o">]</span><span class="c1"># sudo mkfs -t xfs /dev/sdc3</span>
</span></span><span class="line"><span class="cl">Filesystem should be larger than 300MB.
</span></span><span class="line"><span class="cl">Log size should be at least 64MB.
</span></span><span class="line"><span class="cl">Support <span class="k">for</span> filesystems like this one is deprecated and they will not be supported in future releases.
</span></span><span class="line"><span class="cl">meta-data<span class="o">=</span>/dev/sdb3              <span class="nv">isize</span><span class="o">=</span><span class="m">512</span>    <span class="nv">agcount</span><span class="o">=</span>4, <span class="nv">agsize</span><span class="o">=</span><span class="m">4273</span> <span class="nv">blks</span>
</span></span><span class="line"><span class="cl">         <span class="o">=</span>                       <span class="nv">sectsz</span><span class="o">=</span><span class="m">512</span>   <span class="nv">attr</span><span class="o">=</span>2, <span class="nv">projid32bit</span><span class="o">=</span><span class="nv">1</span>
</span></span><span class="line"><span class="cl">         <span class="o">=</span>                       <span class="nv">crc</span><span class="o">=</span><span class="m">1</span>        <span class="nv">finobt</span><span class="o">=</span>1, <span class="nv">sparse</span><span class="o">=</span>1, <span class="nv">rmapbt</span><span class="o">=</span><span class="nv">0</span>
</span></span><span class="line"><span class="cl">         <span class="o">=</span>                       <span class="nv">reflink</span><span class="o">=</span><span class="m">1</span>    <span class="nv">bigtime</span><span class="o">=</span><span class="m">1</span> <span class="nv">inobtcount</span><span class="o">=</span><span class="m">1</span> <span class="nv">nrext64</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl"><span class="nv">data</span>     <span class="o">=</span>                       <span class="nv">bsize</span><span class="o">=</span><span class="m">4096</span>   <span class="nv">blocks</span><span class="o">=</span>17089, <span class="nv">imaxpct</span><span class="o">=</span><span class="nv">25</span>
</span></span><span class="line"><span class="cl">         <span class="o">=</span>                       <span class="nv">sunit</span><span class="o">=</span><span class="m">0</span>      <span class="nv">swidth</span><span class="o">=</span><span class="m">0</span> blks
</span></span><span class="line"><span class="cl"><span class="nv">naming</span>   <span class="o">=</span>version <span class="m">2</span>              <span class="nv">bsize</span><span class="o">=</span><span class="m">4096</span>   ascii-ci<span class="o">=</span>0, <span class="nv">ftype</span><span class="o">=</span><span class="m">1</span>
</span></span><span class="line"><span class="cl"><span class="nv">log</span>      <span class="o">=</span>internal log           <span class="nv">bsize</span><span class="o">=</span><span class="m">4096</span>   <span class="nv">blocks</span><span class="o">=</span>1368, <span class="nv">version</span><span class="o">=</span><span class="nv">2</span>
</span></span><span class="line"><span class="cl">         <span class="o">=</span>                       <span class="nv">sectsz</span><span class="o">=</span><span class="m">512</span>   <span class="nv">sunit</span><span class="o">=</span><span class="m">0</span> blks, lazy-count<span class="o">=</span><span class="m">1</span>
</span></span><span class="line"><span class="cl"><span class="nv">realtime</span> <span class="o">=</span>none                   <span class="nv">extsz</span><span class="o">=</span><span class="m">4096</span>   <span class="nv">blocks</span><span class="o">=</span>0, <span class="nv">rtextents</span><span class="o">=</span><span class="m">0</span>
</span></span></code></pre></div><ul>
<li>Create mount points /vfatfs5, /ext4fs5, and /xfsfs5, and mount all three manually.</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 mapper<span class="o">]</span><span class="c1"># mkdir /vfatfs5 /ext4fs5 /xfsfs5</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 mapper<span class="o">]</span><span class="c1"># mount /dev/sdc1 /vfatfs5</span>
</span></span><span class="line"><span class="cl">mount: <span class="o">(</span>hint<span class="o">)</span> your fstab has been modified, but systemd still uses
</span></span><span class="line"><span class="cl">       the old version<span class="p">;</span> use <span class="s1">&#39;systemctl daemon-reload&#39;</span> to reload.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 mapper<span class="o">]</span><span class="c1"># mount /dev/sdc2 /ext4fs5</span>
</span></span><span class="line"><span class="cl">mount: <span class="o">(</span>hint<span class="o">)</span> your fstab has been modified, but systemd still uses
</span></span><span class="line"><span class="cl">       the old version<span class="p">;</span> use <span class="s1">&#39;systemctl daemon-reload&#39;</span> to reload.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 mapper<span class="o">]</span><span class="c1"># mount /dev/sdc3 /xfsfs5</span>
</span></span><span class="line"><span class="cl">mount: <span class="o">(</span>hint<span class="o">)</span> your fstab has been modified, but systemd still uses
</span></span><span class="line"><span class="cl">       the old version<span class="p">;</span> use <span class="s1">&#39;systemctl daemon-reload&#39;</span> to reload.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 mapper<span class="o">]</span><span class="c1"># mount</span>
</span></span><span class="line"><span class="cl">/dev/sdb1 on /vfatfs5 <span class="nb">type</span> vfat <span class="o">(</span>rw,relatime,fmask<span class="o">=</span>0022,dmask<span class="o">=</span>0022,codepage<span class="o">=</span>437,iocharset<span class="o">=</span>ascii,shortname<span class="o">=</span>mixed,errors<span class="o">=</span>remount-ro<span class="o">)</span>
</span></span><span class="line"><span class="cl">/dev/sdb2 on /ext4fs5 <span class="nb">type</span> ext4 <span class="o">(</span>rw,relatime,seclabel<span class="o">)</span>
</span></span><span class="line"><span class="cl">/dev/sdb3 on /xfsfs5 <span class="nb">type</span> xfs <span class="o">(</span>rw,relatime,seclabel,attr2,inode64,logbufs<span class="o">=</span>8,logbsize<span class="o">=</span>32k,noquota<span class="o">)</span>
</span></span></code></pre></div><ul>
<li>Determine the UUIDs for the three file systems, and add them to the fstab file.</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 mapper<span class="o">]</span><span class="c1"># blkid /dev/sdc1 /dev/sdc2 /dev/sdc3 &gt;&gt; /etc/fstab</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 mapper<span class="o">]</span><span class="c1"># vim /etc/fstab</span>
</span></span></code></pre></div><ul>
<li>Unmount all three file systems manually, and execute <code>mount -a</code> to mount them all.
<code>umount /dev/sdb1 /dev/sdb2 /dev/sdb3</code></li>
<li>Run <code>df -h</code> for verification.</li>
</ul>

<h3 class="relative group">Lab: Create XFS File System in LVM VDO Volume and Mount Persistently
    <div id="lab-create-xfs-file-system-in-lvm-vdo-volume-and-mount-persistently" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#lab-create-xfs-file-system-in-lvm-vdo-volume-and-mount-persistently" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ul>
<li>
<p>Ensure that VDO software is installed.
<code>sudo dnf install kmod-kvdo</code></p>
</li>
<li>
<p>Create a volume vdo5 with a logical size 20GB on a 5GB disk (lsblk) using the <code>lvcreate command</code>.</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo lvcreate -n vdo5 -l 1279 -V 20G --type vdo vgvdo1</span>
</span></span><span class="line"><span class="cl">WARNING: vdo signature detected on /dev/vgvdo1/vpool0 at offset 0. Wipe it? <span class="o">[</span>y/n<span class="o">]</span>: y
</span></span><span class="line"><span class="cl">  Wiping vdo signature on /dev/vgvdo1/vpool0.
</span></span><span class="line"><span class="cl">    The VDO volume can address <span class="m">2</span> GB in <span class="m">1</span> data slab.
</span></span><span class="line"><span class="cl">    It can grow to address at most <span class="m">16</span> TB of physical storage in <span class="m">8192</span> slabs.
</span></span><span class="line"><span class="cl">    If a larger maximum size might be needed, use bigger slabs.
</span></span><span class="line"><span class="cl">  Logical volume <span class="s2">&#34;vdo5&#34;</span> created.
</span></span></code></pre></div><ul>
<li>Initialize the volume with XFS file system type.</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 mapper<span class="o">]</span><span class="c1"># sudo mkfs.xfs /dev/mapper/vgvdo1-vdo5</span>
</span></span><span class="line"><span class="cl">meta-data<span class="o">=</span>/dev/mapper/vgvdo1-vdo5 <span class="nv">isize</span><span class="o">=</span><span class="m">512</span>    <span class="nv">agcount</span><span class="o">=</span>4, <span class="nv">agsize</span><span class="o">=</span><span class="m">1310720</span> <span class="nv">blks</span>
</span></span><span class="line"><span class="cl">         <span class="o">=</span>                       <span class="nv">sectsz</span><span class="o">=</span><span class="m">4096</span>  <span class="nv">attr</span><span class="o">=</span>2, <span class="nv">projid32bit</span><span class="o">=</span><span class="nv">1</span>
</span></span><span class="line"><span class="cl">         <span class="o">=</span>                       <span class="nv">crc</span><span class="o">=</span><span class="m">1</span>        <span class="nv">finobt</span><span class="o">=</span>1, <span class="nv">sparse</span><span class="o">=</span>1, <span class="nv">rmapbt</span><span class="o">=</span><span class="nv">0</span>
</span></span><span class="line"><span class="cl">         <span class="o">=</span>                       <span class="nv">reflink</span><span class="o">=</span><span class="m">1</span>    <span class="nv">bigtime</span><span class="o">=</span><span class="m">1</span> <span class="nv">inobtcount</span><span class="o">=</span><span class="m">1</span> <span class="nv">nrext64</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl"><span class="nv">data</span>     <span class="o">=</span>                       <span class="nv">bsize</span><span class="o">=</span><span class="m">4096</span>   <span class="nv">blocks</span><span class="o">=</span>5242880, <span class="nv">imaxpct</span><span class="o">=</span><span class="nv">25</span>
</span></span><span class="line"><span class="cl">         <span class="o">=</span>                       <span class="nv">sunit</span><span class="o">=</span><span class="m">0</span>      <span class="nv">swidth</span><span class="o">=</span><span class="m">0</span> blks
</span></span><span class="line"><span class="cl"><span class="nv">naming</span>   <span class="o">=</span>version <span class="m">2</span>              <span class="nv">bsize</span><span class="o">=</span><span class="m">4096</span>   ascii-ci<span class="o">=</span>0, <span class="nv">ftype</span><span class="o">=</span><span class="m">1</span>
</span></span><span class="line"><span class="cl"><span class="nv">log</span>      <span class="o">=</span>internal log           <span class="nv">bsize</span><span class="o">=</span><span class="m">4096</span>   <span class="nv">blocks</span><span class="o">=</span>16384, <span class="nv">version</span><span class="o">=</span><span class="nv">2</span>
</span></span><span class="line"><span class="cl">         <span class="o">=</span>                       <span class="nv">sectsz</span><span class="o">=</span><span class="m">4096</span>  <span class="nv">sunit</span><span class="o">=</span><span class="m">1</span> blks, lazy-count<span class="o">=</span><span class="m">1</span>
</span></span><span class="line"><span class="cl"><span class="nv">realtime</span> <span class="o">=</span>none                   <span class="nv">extsz</span><span class="o">=</span><span class="m">4096</span>   <span class="nv">blocks</span><span class="o">=</span>0, <span class="nv">rtextents</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">Discarding blocks...Done.
</span></span></code></pre></div><ul>
<li>Create mount point /vdofs5, and mount it manually.</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 mapper<span class="o">]</span><span class="c1"># mkdir /vdofs5</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 mapper<span class="o">]</span><span class="c1">#mount /dev/mapper/vgvdo1-vdo5 /vdofs5)/etc/fstab</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 mapper<span class="o">]</span><span class="c1"># umount /dev/mapper/vgvdo1-vdo5</span>
</span></span></code></pre></div><ul>
<li>Unmount the file system manually and execute <code>mount -a</code> to mount it back.</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 mapper<span class="o">]</span><span class="c1"># blkid /dev/mapper/vgvdo1-vdo5 &gt;&gt; /etc/fstab</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 mapper<span class="o">]</span><span class="c1"># vim /etc/fstab</span>
</span></span></code></pre></div><ul>
<li>Run <code>df -h</code> to confirm.</li>
</ul>

<h3 class="relative group">Lab: Create Ext4 and XFS File Systems in LVM Volumes and Mount Persistently
    <div id="lab-create-ext4-and-xfs-file-systems-in-lvm-volumes-and-mount-persistently" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#lab-create-ext4-and-xfs-file-systems-in-lvm-volumes-and-mount-persistently" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ul>
<li>Initialize an available 250MB disk for use in LVM (lsblk).</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 mapper<span class="o">]</span><span class="c1"># parted /dev/sdc mklabel msdos</span>
</span></span><span class="line"><span class="cl">Warning: The existing disk label on /dev/sdc will be destroyed and all data on
</span></span><span class="line"><span class="cl">this disk will be lost. Do you want to <span class="k">continue</span>?
</span></span><span class="line"><span class="cl">Yes/No? y                                                                 
</span></span><span class="line"><span class="cl">Information: You may need to update /etc/fstab.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 mapper<span class="o">]</span><span class="c1"># parted /dev/sdc mkpart primary 1 100%</span>
</span></span><span class="line"><span class="cl">Information: You may need to update /etc/fstab.
</span></span></code></pre></div><ul>
<li>Create volume group vg with PE size 8MB and add the physical volume.</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo pvcreate /dev/sdc1</span>
</span></span><span class="line"><span class="cl">  Devices file /dev/sdc is excluded: device is partitioned.
</span></span><span class="line"><span class="cl">  WARNING: adding device /dev/sdc1 with idname t10.ATA_VBOX_HARDDISK_VB6894bac4-590d5546 which is already used <span class="k">for</span> /dev/sdc.
</span></span><span class="line"><span class="cl">  Physical volume <span class="s2">&#34;/dev/sdc1&#34;</span> successfully created.
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># vgcreate -s 8 vg /dev/sdc1</span>
</span></span><span class="line"><span class="cl">  Devices file /dev/sdc is excluded: device is partitioned.
</span></span><span class="line"><span class="cl">  WARNING: adding device /dev/sdc1 with idname t10.ATA_VBOX_HARDDISK_VB6894bac4-590d5546 which is already used <span class="k">for</span> /dev/sdc.
</span></span><span class="line"><span class="cl">  Volume group <span class="s2">&#34;vg&#34;</span> successfully created
</span></span></code></pre></div><ul>
<li>Create two logical volumes lv200 and lv300 of sizes 120MB and 100MB.</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># lvcreate -n lv200 -L 120 vg</span>
</span></span><span class="line"><span class="cl">  Devices file /dev/sdc is excluded: device is partitioned.
</span></span><span class="line"><span class="cl">  Logical volume <span class="s2">&#34;lv200&#34;</span> created.
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># lvcreate -n lv300 -L 100 vg</span>
</span></span><span class="line"><span class="cl">  Rounding up size to full physical extent 104.00 MiB
</span></span><span class="line"><span class="cl">  Logical volume <span class="s2">&#34;lv300&#34;</span> created.
</span></span></code></pre></div><ul>
<li>Use the <code>vgs</code>, <code>pvs</code>, <code>lvs</code>, and <code>vgdisplay</code> commands for verification.</li>
<li>Initialize the volumes with Ext4 and XFS file system types.</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># mkfs.ext4 /dev/vg/lv200</span>
</span></span><span class="line"><span class="cl">mke2fs 1.46.5 <span class="o">(</span>30-Dec-2021<span class="o">)</span>
</span></span><span class="line"><span class="cl">Creating filesystem with <span class="m">122880</span> 1k blocks and <span class="m">30720</span> inodes
</span></span><span class="line"><span class="cl">Filesystem UUID: 52eac2ee-b5bd-4025-9e40-356b38d21996
</span></span><span class="line"><span class="cl">Superblock backups stored on blocks: 
</span></span><span class="line"><span class="cl">	8193, 24577, 40961, 57345, <span class="m">73729</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Allocating group tables: <span class="k">done</span>                            
</span></span><span class="line"><span class="cl">Writing inode tables: <span class="k">done</span>                            
</span></span><span class="line"><span class="cl">Creating journal <span class="o">(</span><span class="m">4096</span> blocks<span class="o">)</span>: <span class="k">done</span>
</span></span><span class="line"><span class="cl">Writing superblocks and filesystem accounting information: <span class="k">done</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># mkfs.xfs /dev/vg/lv300</span>
</span></span><span class="line"><span class="cl">Filesystem should be larger than 300MB.
</span></span><span class="line"><span class="cl">Log size should be at least 64MB.
</span></span><span class="line"><span class="cl">Support <span class="k">for</span> filesystems like this one is deprecated and they will not be supported in future releases.
</span></span><span class="line"><span class="cl">meta-data<span class="o">=</span>/dev/vg/lv300          <span class="nv">isize</span><span class="o">=</span><span class="m">512</span>    <span class="nv">agcount</span><span class="o">=</span>4, <span class="nv">agsize</span><span class="o">=</span><span class="m">6656</span> <span class="nv">blks</span>
</span></span><span class="line"><span class="cl">         <span class="o">=</span>                       <span class="nv">sectsz</span><span class="o">=</span><span class="m">512</span>   <span class="nv">attr</span><span class="o">=</span>2, <span class="nv">projid32bit</span><span class="o">=</span><span class="nv">1</span>
</span></span><span class="line"><span class="cl">         <span class="o">=</span>                       <span class="nv">crc</span><span class="o">=</span><span class="m">1</span>        <span class="nv">finobt</span><span class="o">=</span>1, <span class="nv">sparse</span><span class="o">=</span>1, <span class="nv">rmapbt</span><span class="o">=</span><span class="nv">0</span>
</span></span><span class="line"><span class="cl">         <span class="o">=</span>                       <span class="nv">reflink</span><span class="o">=</span><span class="m">1</span>    <span class="nv">bigtime</span><span class="o">=</span><span class="m">1</span> <span class="nv">inobtcount</span><span class="o">=</span><span class="m">1</span> <span class="nv">nrext64</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl"><span class="nv">data</span>     <span class="o">=</span>                       <span class="nv">bsize</span><span class="o">=</span><span class="m">4096</span>   <span class="nv">blocks</span><span class="o">=</span>26624, <span class="nv">imaxpct</span><span class="o">=</span><span class="nv">25</span>
</span></span><span class="line"><span class="cl">         <span class="o">=</span>                       <span class="nv">sunit</span><span class="o">=</span><span class="m">0</span>      <span class="nv">swidth</span><span class="o">=</span><span class="m">0</span> blks
</span></span><span class="line"><span class="cl"><span class="nv">naming</span>   <span class="o">=</span>version <span class="m">2</span>              <span class="nv">bsize</span><span class="o">=</span><span class="m">4096</span>   ascii-ci<span class="o">=</span>0, <span class="nv">ftype</span><span class="o">=</span><span class="m">1</span>
</span></span><span class="line"><span class="cl"><span class="nv">log</span>      <span class="o">=</span>internal log           <span class="nv">bsize</span><span class="o">=</span><span class="m">4096</span>   <span class="nv">blocks</span><span class="o">=</span>1368, <span class="nv">version</span><span class="o">=</span><span class="nv">2</span>
</span></span><span class="line"><span class="cl">         <span class="o">=</span>                       <span class="nv">sectsz</span><span class="o">=</span><span class="m">512</span>   <span class="nv">sunit</span><span class="o">=</span><span class="m">0</span> blks, lazy-count<span class="o">=</span><span class="m">1</span>
</span></span><span class="line"><span class="cl"><span class="nv">realtime</span> <span class="o">=</span>none                   <span class="nv">extsz</span><span class="o">=</span><span class="m">4096</span>   <span class="nv">blocks</span><span class="o">=</span>0, <span class="nv">rtextents</span><span class="o">=</span><span class="m">0</span>
</span></span></code></pre></div><ul>
<li>Create mount points /lvmfs5 and /lvmfs6, and mount them manually.</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># mkdir /lvmfs5 /lvmfs6</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># mount /dev/vg/lv200 /lvmfs5</span>
</span></span><span class="line"><span class="cl">mount: <span class="o">(</span>hint<span class="o">)</span> your fstab has been modified, but systemd still uses
</span></span><span class="line"><span class="cl">       the old version<span class="p">;</span> use <span class="s1">&#39;systemctl daemon-reload&#39;</span> to reload.
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># mount /dev/vg/lv300 /lvmfs6</span>
</span></span><span class="line"><span class="cl">mount: <span class="o">(</span>hint<span class="o">)</span> your fstab has been modified, but systemd still uses
</span></span><span class="line"><span class="cl">       the old version<span class="p">;</span> use <span class="s1">&#39;systemctl daemon-reload&#39;</span> to reload.
</span></span></code></pre></div><ul>
<li>Add the file system information to the fstab file using their device files.</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># blkid /dev/vg/lv200 &gt;&gt; /etc/fstab</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># blkid /dev/vg/lv300 &gt;&gt; /etc/fstab</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># vim /etc/fstab</span>
</span></span></code></pre></div><ul>
<li>Unmount the file systems manually, and execute mount -a to mount them back. Run <code>df -h</code> to confirm.</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># umount /dev/vg/lv200 /dev/vg/lv300</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># mount -a</span>
</span></span></code></pre></div>
<h3 class="relative group">Lab 14-4: Extend Ext4 and XFS File Systems in LVM Volumes
    <div id="lab-14-4-extend-ext4-and-xfs-file-systems-in-lvm-volumes" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#lab-14-4-extend-ext4-and-xfs-file-systems-in-lvm-volumes" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ul>
<li>initialize an available 250MB disk for use in LVM (lsblk).</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># pvcreate /dev/sdb</span>
</span></span><span class="line"><span class="cl">  Devices file /dev/sdc is excluded: device is partitioned.
</span></span><span class="line"><span class="cl">WARNING: dos signature detected on /dev/sdb at offset 510. Wipe it? <span class="o">[</span>y/n<span class="o">]</span>: y
</span></span><span class="line"><span class="cl">  Wiping dos signature on /dev/sdb.
</span></span><span class="line"><span class="cl">  WARNING: adding device /dev/sdb with idname t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f which is already used <span class="k">for</span> missing device.
</span></span><span class="line"><span class="cl">  Physical volume <span class="s2">&#34;/dev/sdb&#34;</span> successfully created.
</span></span></code></pre></div><ul>
<li>Add the new physical volume to volume group vg200.</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># vgextend vg /dev/sdb</span>
</span></span><span class="line"><span class="cl">  Devices file /dev/sdc is excluded: device is partitioned.
</span></span><span class="line"><span class="cl">  WARNING: adding device /dev/sdb with idname t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f which is already used <span class="k">for</span> missing device.
</span></span><span class="line"><span class="cl">  Volume group <span class="s2">&#34;vg&#34;</span> successfully extended
</span></span></code></pre></div><ul>
<li>Expand logical volumes lv200 and lv300 along with the underlying file systems to 200MB and 250MB.</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># lvextend -L 200m /dev/vg/lv200</span>
</span></span><span class="line"><span class="cl">  Size of logical volume vg/lv200 changed from 120.00 MiB <span class="o">(</span><span class="m">15</span> extents<span class="o">)</span> to 200.00 MiB <span class="o">(</span><span class="m">25</span> extents<span class="o">)</span>.
</span></span><span class="line"><span class="cl">  Logical volume vg/lv200 successfully resized.
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># lvextend -L 250m /dev/vg/lv200</span>
</span></span><span class="line"><span class="cl">  Rounding size to boundary between physical extents: 256.00 MiB.
</span></span><span class="line"><span class="cl">  Size of logical volume vg/lv200 changed from 200.00 MiB <span class="o">(</span><span class="m">25</span> extents<span class="o">)</span> to 256.00 MiB <span class="o">(</span><span class="m">32</span> extents<span class="o">)</span>.
</span></span><span class="line"><span class="cl">  Logical volume vg/lv200 successfully resized.
</span></span></code></pre></div><ul>
<li>Use the <code>vgs</code>, <code>pvs</code>, <code>lvs</code>, <code>vgdisplay</code>, and <code>df</code> commands for verification.</li>
</ul>

<h3 class="relative group">Lab 14-5: Create Swap in Partition and LVM Volume and Activate Persistently
    <div id="lab-14-5-create-swap-in-partition-and-lvm-volume-and-activate-persistently" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#lab-14-5-create-swap-in-partition-and-lvm-volume-and-activate-persistently" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ul>
<li>Create two 100MB partitions on an available 250MB disk (lsblk) by invoking the parted utility directly at the command prompt.</li>
<li>Apply label &ldquo;msdos&rdquo; if the disk is new.</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@localhost ~<span class="o">]</span><span class="c1"># parted /dev/sdd mklabel msdos</span>
</span></span><span class="line"><span class="cl">Information: You may need to update /etc/fstab.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@localhost ~<span class="o">]</span><span class="c1"># parted /dev/sdd mkpart primary 1 100MB</span>
</span></span><span class="line"><span class="cl">Information: You may need to update /etc/fstab.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@localhost ~<span class="o">]</span><span class="c1"># parted /dev/sdd mkpart primary 101 201</span>
</span></span><span class="line"><span class="cl">Information: You may need to update /etc/fstab.
</span></span></code></pre></div><ul>
<li>Initialize one of the partitions with swap structures.</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@localhost ~<span class="o">]</span><span class="c1"># sudo mkswap /dev/sdd1</span>
</span></span><span class="line"><span class="cl">Setting up swapspace version 1, <span class="nv">size</span> <span class="o">=</span> <span class="m">94</span> MiB <span class="o">(</span><span class="m">98562048</span> bytes<span class="o">)</span>
</span></span><span class="line"><span class="cl">no label, <span class="nv">UUID</span><span class="o">=</span>40eea6c2-b80c-4b25-ad76-611071db52d5
</span></span></code></pre></div><ul>
<li>Apply label swappart to the swap partition, and add it to the fstab file.</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@localhost ~<span class="o">]</span><span class="c1"># swaplabel -L swappart /dev/sdd1</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@localhost ~<span class="o">]</span><span class="c1"># blkid /dev/sdd1 &gt;&gt; /etc/fstab</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@localhost ~<span class="o">]</span><span class="c1"># vim /etc/fstab</span>
</span></span><span class="line"><span class="cl"><span class="nv">UUID</span><span class="o">=</span><span class="s2">&#34;40eea6c2-b80c-4b25-ad76-611071db52d5&#34;</span> swap swap <span class="nv">pri</span><span class="o">=</span><span class="m">1</span> <span class="m">0</span> <span class="m">0</span>
</span></span></code></pre></div><ul>
<li>
<p>Execute <code>swapon -a</code> to activate it.</p>
</li>
<li>
<p>Run <code>swapon -s</code> to confirm activation.</p>
</li>
<li>
<p>Initialize the other partition for use in LVM.</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@localhost ~<span class="o">]</span><span class="c1"># pvcreate /dev/sdd2</span>
</span></span><span class="line"><span class="cl">  Physical volume <span class="s2">&#34;/dev/sdd2&#34;</span> successfully created.
</span></span></code></pre></div><ul>
<li>Expand volume group vg (Lab 14-3) by adding this physical volume to it.</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@localhost ~<span class="o">]</span><span class="c1"># vgextend vg /dev/sdd2</span>
</span></span><span class="line"><span class="cl">  Volume group <span class="s2">&#34;vg200&#34;</span> successfully extended
</span></span></code></pre></div><ul>
<li>Create logical volume swapvol of size 180MB.</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@localhost ~<span class="o">]</span><span class="c1"># lvcreate -L 180 -n swapvol vg</span>
</span></span><span class="line"><span class="cl">  Logical volume <span class="s2">&#34;swapvol&#34;</span> created.
</span></span></code></pre></div><ul>
<li>Use the <code>vgs</code>, <code>pvs</code>, <code>lvs</code>, and <code>vgdisplay</code> commands for verification.</li>
<li>Initialize the logical volume for swap.</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@localhost vg200<span class="o">]</span><span class="c1"># mkswap /dev/vg/swapvol</span>
</span></span><span class="line"><span class="cl">Setting up swapspace version 1, <span class="nv">size</span> <span class="o">=</span> <span class="m">180</span> MiB <span class="o">(</span><span class="m">188739584</span> bytes<span class="o">)</span>
</span></span><span class="line"><span class="cl">no label, <span class="nv">UUID</span><span class="o">=</span>a4b939d0-4b53-4e73-bee5-4c402aff6f9b
</span></span></code></pre></div><ul>
<li>Add an entry to the fstab file for the new swap area using its device file.</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@localhost vg200<span class="o">]</span><span class="c1"># vim /etc/fstab</span>
</span></span><span class="line"><span class="cl">/dev/vg200/swapvol swap swap <span class="nv">pri</span><span class="o">=</span><span class="m">2</span> <span class="m">0</span> <span class="m">0</span>
</span></span></code></pre></div><ul>
<li>Execute <code>swapon -a</code> to activate it.</li>
<li>Run <code>swapon -s</code> to confirm activation.</li>
</ul>

          
          
          
        </div>
        
        

        
  
  <section class="flex flex-row flex-wrap justify-center pt-4 text-xl">
    
      
        <a
          target="_blank"
          class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
          href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://davidwrites.xyz/tech/linux/local-file-systems-and-swap/&amp;title=Local%20File%20Systems%20and%20Swap"
          title="Share on LinkedIn"
          aria-label="Share on LinkedIn">
          <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
</span>
        </a>
      
    
      
        <a
          target="_blank"
          class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
          href="https://twitter.com/intent/tweet/?url=https://davidwrites.xyz/tech/linux/local-file-systems-and-swap/&amp;text=Local%20File%20Systems%20and%20Swap"
          title="Tweet on Twitter"
          aria-label="Tweet on Twitter">
          <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"/></svg></span>
        </a>
      
    
      
        <a
          target="_blank"
          class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
          href="https://bsky.app/intent/compose?text=Local%20File%20Systems%20and%20Swap&#43;https://davidwrites.xyz/tech/linux/local-file-systems-and-swap/"
          title="Post on Bluesky"
          aria-label="Post on Bluesky">
          <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256,232.562c-21.183,-41.196 -78.868,-117.97 -132.503,-155.834c-51.378,-36.272 -70.978,-29.987 -83.828,-24.181c-14.872,6.72 -17.577,29.554 -17.577,42.988c0,13.433 7.365,110.138 12.169,126.281c15.873,53.336 72.376,71.358 124.413,65.574c2.66,-0.395 5.357,-0.759 8.089,-1.097c-2.68,0.429 -5.379,0.796 -8.089,1.097c-76.259,11.294 -143.984,39.085 -55.158,137.972c97.708,101.165 133.908,-21.692 152.484,-83.983c18.576,62.291 39.972,180.718 150.734,83.983c83.174,-83.983 22.851,-126.674 -53.408,-137.969c-2.71,-0.302 -5.409,-0.667 -8.089,-1.096c2.732,0.337 5.429,0.702 8.089,1.096c52.037,5.785 108.54,-12.239 124.413,-65.574c4.804,-16.142 12.169,-112.847 12.169,-126.281c-0,-13.434 -2.705,-36.267 -17.577,-42.988c-12.85,-5.806 -32.45,-12.09 -83.829,24.181c-53.634,37.864 -111.319,114.635 -132.502,155.831Z"/></svg></span>
        </a>
      
    
      
        <a
          target="_blank"
          class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
          href="https://reddit.com/submit/?url=https://davidwrites.xyz/tech/linux/local-file-systems-and-swap/&amp;resubmit=true&amp;title=Local%20File%20Systems%20and%20Swap"
          title="Submit to Reddit"
          aria-label="Submit to Reddit">
          <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M201.5 305.5c-13.8 0-24.9-11.1-24.9-24.6 0-13.8 11.1-24.9 24.9-24.9 13.6 0 24.6 11.1 24.6 24.9 0 13.6-11.1 24.6-24.6 24.6zM504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-132.3-41.2c-9.4 0-17.7 3.9-23.8 10-22.4-15.5-52.6-25.5-86.1-26.6l17.4-78.3 55.4 12.5c0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.3 24.9-24.9s-11.1-24.9-24.9-24.9c-9.7 0-18 5.8-22.1 13.8l-61.2-13.6c-3-.8-6.1 1.4-6.9 4.4l-19.1 86.4c-33.2 1.4-63.1 11.3-85.5 26.8-6.1-6.4-14.7-10.2-24.1-10.2-34.9 0-46.3 46.9-14.4 62.8-1.1 5-1.7 10.2-1.7 15.5 0 52.6 59.2 95.2 132 95.2 73.1 0 132.3-42.6 132.3-95.2 0-5.3-.6-10.8-1.9-15.8 31.3-16 19.8-62.5-14.9-62.5zM302.8 331c-18.2 18.2-76.1 17.9-93.6 0-2.2-2.2-6.1-2.2-8.3 0-2.5 2.5-2.5 6.4 0 8.6 22.8 22.8 87.3 22.8 110.2 0 2.5-2.2 2.5-6.1 0-8.6-2.2-2.2-6.1-2.2-8.3 0zm7.7-75c-13.6 0-24.6 11.1-24.6 24.9 0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.1 24.9-24.6 0-13.8-11-24.9-24.9-24.9z"/></svg>
</span>
        </a>
      
    
      
        <a
          target="_blank"
          class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
          href="https://api.whatsapp.com/send?text=https://davidwrites.xyz/tech/linux/local-file-systems-and-swap/&amp;resubmit=true&amp;title=Local%20File%20Systems%20and%20Swap"
          title="Share via WhatsApp"
          aria-label="Share via WhatsApp">
          <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"/></svg>
</span>
        </a>
      
    
      
        <a
          target="_blank"
          class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
          href="https://t.me/share/url?url=https://davidwrites.xyz/tech/linux/local-file-systems-and-swap/&amp;resubmit=true&amp;title=Local%20File%20Systems%20and%20Swap"
          title="Share via Telegram"
          aria-label="Share via Telegram">
          <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M248,8C111.033,8,0,119.033,0,256S111.033,504,248,504,496,392.967,496,256,384.967,8,248,8ZM362.952,176.66c-3.732,39.215-19.881,134.378-28.1,178.3-3.476,18.584-10.322,24.816-16.948,25.425-14.4,1.326-25.338-9.517-39.287-18.661-21.827-14.308-34.158-23.215-55.346-37.177-24.485-16.135-8.612-25,5.342-39.5,3.652-3.793,67.107-61.51,68.335-66.746.153-.655.3-3.1-1.154-4.384s-3.59-.849-5.135-.5q-3.283.746-104.608,69.142-14.845,10.194-26.894,9.934c-8.855-.191-25.888-5.006-38.551-9.123-15.531-5.048-27.875-7.717-26.8-16.291q.84-6.7,18.45-13.7,108.446-47.248,144.628-62.3c68.872-28.647,83.183-33.623,92.511-33.789,2.052-.034,6.639.474,9.61,2.885a10.452,10.452,0,0,1,3.53,6.716A43.765,43.765,0,0,1,362.952,176.66Z"/></svg>
</span>
        </a>
      
    
      
        <a
          target="_blank"
          class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
          href="https://pinterest.com/pin/create/bookmarklet/?url=https://davidwrites.xyz/tech/linux/local-file-systems-and-swap/&amp;description=Local%20File%20Systems%20and%20Swap"
          title="Pin on Pinterest"
          aria-label="Pin on Pinterest">
          <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M496 256c0 137-111 248-248 248-25.6 0-50.2-3.9-73.4-11.1 10.1-16.5 25.2-43.5 30.8-65 3-11.6 15.4-59 15.4-59 8.1 15.4 31.7 28.5 56.8 28.5 74.8 0 128.7-68.8 128.7-154.3 0-81.9-66.9-143.2-152.9-143.2-107 0-163.9 71.8-163.9 150.1 0 36.4 19.4 81.7 50.3 96.1 4.7 2.2 7.2 1.2 8.3-3.3.8-3.4 5-20.3 6.9-28.1.6-2.5.3-4.7-1.7-7.1-10.1-12.5-18.3-35.3-18.3-56.6 0-54.7 41.4-107.6 112-107.6 60.9 0 103.6 41.5 103.6 100.9 0 67.1-33.9 113.6-78 113.6-24.3 0-42.6-20.1-36.7-44.8 7-29.5 20.5-61.3 20.5-82.6 0-19-10.2-34.9-31.4-34.9-24.9 0-44.9 25.7-44.9 60.2 0 22 7.4 36.8 7.4 36.8s-24.5 103.8-29 123.2c-5 21.4-3 51.6-.9 71.2C65.4 450.9 0 361.1 0 256 0 119 111 8 248 8s248 111 248 248z"/></svg>
</span>
        </a>
      
    
      
        <a
          target="_blank"
          class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
          href="https://www.facebook.com/sharer/sharer.php?u=https://davidwrites.xyz/tech/linux/local-file-systems-and-swap/&amp;quote=Local%20File%20Systems%20and%20Swap"
          title="Share on Facebook"
          aria-label="Share on Facebook">
          <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"/></svg>
</span>
        </a>
      
    
      
        <a
          target="_blank"
          class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
          href="mailto:?body=https://davidwrites.xyz/tech/linux/local-file-systems-and-swap/&amp;subject=Local%20File%20Systems%20and%20Swap"
          title="Send via email"
          aria-label="Send via email">
          <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M207.8 20.73c-93.45 18.32-168.7 93.66-187 187.1c-27.64 140.9 68.65 266.2 199.1 285.1c19.01 2.888 36.17-12.26 36.17-31.49l.0001-.6631c0-15.74-11.44-28.88-26.84-31.24c-84.35-12.98-149.2-86.13-149.2-174.2c0-102.9 88.61-185.5 193.4-175.4c91.54 8.869 158.6 91.25 158.6 183.2l0 16.16c0 22.09-17.94 40.05-40 40.05s-40.01-17.96-40.01-40.05v-120.1c0-8.847-7.161-16.02-16.01-16.02l-31.98 .0036c-7.299 0-13.2 4.992-15.12 11.68c-24.85-12.15-54.24-16.38-86.06-5.106c-38.75 13.73-68.12 48.91-73.72 89.64c-9.483 69.01 43.81 128 110.9 128c26.44 0 50.43-9.544 69.59-24.88c24 31.3 65.23 48.69 109.4 37.49C465.2 369.3 496 324.1 495.1 277.2V256.3C495.1 107.1 361.2-9.332 207.8 20.73zM239.1 304.3c-26.47 0-48-21.56-48-48.05s21.53-48.05 48-48.05s48 21.56 48 48.05S266.5 304.3 239.1 304.3z"/></svg>
</span>
        </a>
      
    
      
        <a
          target="_blank"
          class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
          href="https://line.me/R/share?text=https://davidwrites.xyz/tech/linux/local-file-systems-and-swap/%20Local%20File%20Systems%20and%20Swap"
          title="Share on LINE"
          aria-label="Share on LINE">
          <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--!Font Awesome Pro 6.4.2 by @fontawesome - https://fontawesome.com License -https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path fill="currentColor" d="M311 196.8v81.3c0 2.1-1.6 3.7-3.7 3.7h-13c-1.3 0-2.4-.7-3-1.5l-37.3-50.3v48.2c0 2.1-1.6 3.7-3.7 3.7h-13c-2.1 0-3.7-1.6-3.7-3.7V196.9c0-2.1 1.6-3.7 3.7-3.7h12.9c1.1 0 2.4 .6 3 1.6l37.3 50.3V196.9c0-2.1 1.6-3.7 3.7-3.7h13c2.1-.1 3.8 1.6 3.8 3.5zm-93.7-3.7h-13c-2.1 0-3.7 1.6-3.7 3.7v81.3c0 2.1 1.6 3.7 3.7 3.7h13c2.1 0 3.7-1.6 3.7-3.7V196.8c0-1.9-1.6-3.7-3.7-3.7zm-31.4 68.1H150.3V196.8c0-2.1-1.6-3.7-3.7-3.7h-13c-2.1 0-3.7 1.6-3.7 3.7v81.3c0 1 .3 1.8 1 2.5c.7 .6 1.5 1 2.5 1h52.2c2.1 0 3.7-1.6 3.7-3.7v-13c0-1.9-1.6-3.7-3.5-3.7zm193.7-68.1H327.3c-1.9 0-3.7 1.6-3.7 3.7v81.3c0 1.9 1.6 3.7 3.7 3.7h52.2c2.1 0 3.7-1.6 3.7-3.7V265c0-2.1-1.6-3.7-3.7-3.7H344V247.7h35.5c2.1 0 3.7-1.6 3.7-3.7V230.9c0-2.1-1.6-3.7-3.7-3.7H344V213.5h35.5c2.1 0 3.7-1.6 3.7-3.7v-13c-.1-1.9-1.7-3.7-3.7-3.7zM512 93.4V419.4c-.1 51.2-42.1 92.7-93.4 92.6H92.6C41.4 511.9-.1 469.8 0 418.6V92.6C.1 41.4 42.2-.1 93.4 0H419.4c51.2 .1 92.7 42.1 92.6 93.4zM441.6 233.5c0-83.4-83.7-151.3-186.4-151.3s-186.4 67.9-186.4 151.3c0 74.7 66.3 137.4 155.9 149.3c21.8 4.7 19.3 12.7 14.4 42.1c-.8 4.7-3.8 18.4 16.1 10.1s107.3-63.2 146.5-108.2c27-29.7 39.9-59.8 39.9-93.1z" /></svg></span>
        </a>
      
    
  </section>


        

      </div>

      
      
        
        
          
          
        
        
        
        <script
          type="text/javascript"
          src="/js/page.min.54b6f4371722649edbe871e431d8670d670878c22be8f36e229fe53cc9b786fe25a834def5e6de621f7a3e37b72bc8cd73839aa5ed907ed6cbd45cd3e1b0fa20.js"
          integrity="sha512-VLb0NxciZJ7b6HHkMdhnDWcIeMIr6PNuIp/lPMm3hv4lqDTe9ebeYh96Pje3K8jNc4Oape2QftbL1FzT4bD6IA=="
          data-oid="views_tech/linux/Local File Systems and Swap.md"
          data-oid-likes="likes_tech/linux/Local File Systems and Swap.md"></script>
      
    </section>

    
    <footer class="pt-8 max-w-prose print:hidden">
      

      
    </footer>
  </article>

        


  






<div
  id="scroll-to-top"
  class="fixed bottom-6 end-6 z-50 transform translate-y-4 opacity-0 duration-200">
  <a
    href="#the-top"
    class="pointer-events-auto flex h-12 w-12 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400"
    aria-label="Scroll to top"
    title="Scroll to top">
    &uarr;
  </a>
</div>

      </main><footer id="site-footer" class="py-10 print:hidden">
  
  
    
      
      
        
      
      
      
      
      <nav class="flex flex-row pb-4 text-base font-medium text-neutral-500 dark:text-neutral-400 overflow-x-auto py-2">
        <ul class="flex list-none flex-row">
          
            <li class=" flex mb-1 text-end sm:mb-0 sm:me-7 sm:last:me-0 me-4">
              <a
                class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2 flex items-center"
                href=""
                title="">
                
                
              </a>
            </li>
          
        </ul>
      </nav>
    
  
  <div class="flex items-center justify-between">
    
    
      <p class="text-sm text-neutral-500 dark:text-neutral-400">
          &copy;
          2025
          
      </p>
    

    
    
  </div>
  
    <script>
      mediumZoom(document.querySelectorAll("img:not(.nozoom)"), {
        margin: 24,
        background: "rgba(0,0,0,0.5)",
        scrollOffset: 0,
      });
    </script>
  
  
  
  <script
    type="text/javascript"
    src="/js/process.min.ee03488f19c93c2efb199e2e3014ea5f3cb2ce7d45154adb3399a158cac27ca52831db249ede5bb602700ef87eb02434139de0858af1818ab0fb4182472204a4.js"
    integrity="sha512-7gNIjxnJPC77GZ4uMBTqXzyyzn1FFUrbM5mhWMrCfKUoMdsknt5btgJwDvh&#43;sCQ0E53ghYrxgYqw&#43;0GCRyIEpA=="></script>
  
  
</footer>
<div
  id="search-wrapper"
  class="invisible fixed inset-0 flex h-screen w-screen cursor-default flex-col bg-neutral-500/50 p-4 backdrop-blur-sm dark:bg-neutral-900/50 sm:p-6 md:p-[10vh] lg:p-[12vh] z-500"
  data-url="https://davidwrites.xyz/">
  <div
    id="search-modal"
    class="flex flex-col w-full max-w-3xl min-h-0 mx-auto border rounded-md shadow-lg top-20 border-neutral-200 bg-neutral dark:border-neutral-700 dark:bg-neutral-800">
    <header class="relative z-10 flex items-center justify-between flex-none px-2">
      <form class="flex items-center flex-auto min-w-0">
        <div class="flex items-center justify-center w-8 h-8 text-neutral-400">
          <span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span>
        </div>
        <input
          type="search"
          id="search-query"
          class="flex flex-auto h-12 mx-1 bg-transparent appearance-none focus:outline-dotted focus:outline-2 focus:outline-transparent"
          placeholder="Search"
          tabindex="0">
      </form>
      <button
        id="close-search-button"
        class="flex items-center justify-center w-8 h-8 text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400"
        title="Close (Esc)">
        <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>
</span>
      </button>
    </header>
    <section class="flex-auto px-2 overflow-auto">
      <ul id="search-results">
        
      </ul>
    </section>
  </div>
</div>

    </div>
  </body>
  
</html>
